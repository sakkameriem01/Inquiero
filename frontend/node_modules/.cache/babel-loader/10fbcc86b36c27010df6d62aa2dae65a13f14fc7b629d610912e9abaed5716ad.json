{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Downloads\\\\Inquiero\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { ToastContainer, toast, Slide } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport { Plus, Trash2, FileText, Send, Moon, Sun, ChevronLeft, ChevronRight, X, FileUp, Clock, MessageSquare, Star, Edit, Menu, Eye } from 'lucide-react';\nimport './styles/globals.css';\nimport { Tooltip } from 'react-tooltip';\nimport 'react-tooltip/dist/react-tooltip.css';\n\n// Configure react-pdf worker\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\npdfjs.GlobalWorkerOptions.workerSrc = '/pdf.worker.min.js';\nconst API_BASE_URL = 'http://localhost:8000'; // Assuming FastAPI runs on port 8000\n\nfunction getToastIcon(type) {\n  switch (type) {\n    case 'success':\n      return '✅';\n    case 'error':\n      return '❌';\n    case 'info':\n      return 'ℹ️';\n    case 'warning':\n      return '⚠️';\n    default:\n      return '🔔';\n  }\n}\nfunction TypingBubble() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-bubble chat-bubble-ai typing-bubble\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"typing-dots\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 35\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_c = TypingBubble;\nfunction PDFFileList({\n  files,\n  onAddMore,\n  onPreview,\n  onRemove,\n  isSidebarOpen,\n  showAddButton = true,\n  onDragOver,\n  onDrop\n}) {\n  if (files.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center min-h-[220px] border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-900/40 p-8 transition-colors duration-200\",\n      onDragOver: onDragOver,\n      onDrop: onDrop,\n      style: {\n        cursor: 'pointer'\n      },\n      onClick: onAddMore,\n      children: [/*#__PURE__*/_jsxDEV(FileUp, {\n        size: 40,\n        className: \"mb-4 text-blue-400 dark:text-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-base font-medium text-gray-700 dark:text-gray-200 mb-2\",\n        children: \"Drag & drop PDF here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary px-6 py-2 mt-2 rounded-lg text-base font-semibold shadow-sm\",\n        onClick: e => {\n          e.stopPropagation();\n          onAddMore();\n        },\n        children: \"Upload PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(FileText, {\n          size: 20,\n          className: \"text-accent-blue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), \"Uploaded Files (\", files.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), showAddButton && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onAddMore,\n        className: \"btn btn-secondary text-sm flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(FileUp, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), \" Add More\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `grid gap-3 ${isSidebarOpen ? 'md:grid-cols-1' : 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4'}`,\n      children: files.map((file, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"group relative flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3 min-w-0 flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            size: 20,\n            className: \"text-accent-blue dark:text-accent-purple flex-shrink-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"min-w-0 flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium truncate block\",\n              children: file.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this), file.language && file.language !== 'en' && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500 dark:text-gray-400\",\n              children: file.language.toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 19\n            }, this), file.uploadedAt && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-400 dark:text-gray-500\",\n              children: new Date(file.uploadedAt).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onPreview(file.path),\n            className: \"btn-icon btn-icon-primary p-1.5\",\n            \"data-tooltip-id\": \"preview-tooltip\",\n            \"data-tooltip-content\": \"Preview PDF\",\n            children: /*#__PURE__*/_jsxDEV(Eye, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this), onRemove && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onRemove(file.path),\n            className: \"btn-icon btn-icon-secondary p-1.5\",\n            \"data-tooltip-id\": \"remove-tooltip\",\n            \"data-tooltip-content\": \"Remove file\",\n            children: /*#__PURE__*/_jsxDEV(Trash2, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this)]\n      }, file.path || idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n_c2 = PDFFileList;\nfunction ChatItem({\n  chat,\n  isSelected,\n  isFavorited,\n  onSelect,\n  onRename,\n  onFavorite,\n  onDelete,\n  renamingChatId,\n  newChatName,\n  setNewChatName\n}) {\n  const isRenaming = renamingChatId === chat.id;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `\n        group relative flex flex-col transition-all duration-200\n        ${isSelected ? 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800' : isFavorited ? 'bg-amber-50/50 dark:bg-amber-900/10 border-amber-200 dark:border-amber-800/50 hover:bg-amber-50 dark:hover:bg-amber-900/20' : 'bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50'}\n        border rounded-xl shadow-sm hover:shadow-md\n        cursor-pointer select-none\n        ${isFavorited ? 'ring-1 ring-amber-200 dark:ring-amber-800/50' : ''}\n      `,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between p-3\",\n      onClick: () => onSelect(chat.id),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3 min-w-0 flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0 relative\",\n          children: [isFavorited && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute -top-1 -right-1\",\n            children: /*#__PURE__*/_jsxDEV(Star, {\n              size: 12,\n              className: \"text-amber-400 fill-amber-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FileText, {\n            size: 18,\n            className: `\n                ${isSelected ? 'text-blue-600 dark:text-blue-400' : isFavorited ? 'text-amber-600 dark:text-amber-400' : 'text-gray-400 dark:text-gray-500'}\n                transition-colors duration-200\n              `\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"min-w-0 flex-1\",\n          children: isRenaming ? /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: newChatName,\n            onChange: e => setNewChatName(e.target.value),\n            onBlur: () => onRename(chat.id, newChatName),\n            onKeyPress: e => {\n              if (e.key === 'Enter') {\n                onRename(chat.id, newChatName);\n              }\n            },\n            className: `\n                  w-full px-2 py-1 text-sm rounded-md \n                  ${isFavorited ? 'border-amber-200 dark:border-amber-800 focus:ring-amber-500' : 'border-blue-200 dark:border-blue-800 focus:ring-blue-500'}\n                  bg-white dark:bg-gray-800 focus:ring-2 focus:border-transparent\n                  transition-all duration-200\n                `,\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `\n                text-sm font-medium truncate\n                ${isFavorited ? 'text-amber-700 dark:text-amber-300' : 'text-gray-700 dark:text-gray-200'}\n              `,\n            children: chat.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-tooltip-id\": \"rename-tooltip\",\n          \"data-tooltip-content\": \"Rename chat\",\n          onClick: e => {\n            e.stopPropagation();\n            onRename(chat.id, chat.name);\n          },\n          className: `\n              p-1.5 rounded-lg transition-colors duration-200\n              ${isFavorited ? 'hover:bg-amber-100 dark:hover:bg-amber-900/30 text-amber-600 dark:text-amber-400' : 'hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200'}\n            `,\n          children: /*#__PURE__*/_jsxDEV(Edit, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-tooltip-id\": \"favorite-tooltip\",\n          \"data-tooltip-content\": isFavorited ? \"Remove from favorites\" : \"Add to favorites\",\n          onClick: e => {\n            e.stopPropagation();\n            onFavorite(chat.id);\n          },\n          className: `\n              p-1.5 rounded-lg transition-colors duration-200\n              ${isFavorited ? 'hover:bg-amber-100 dark:hover:bg-amber-900/30' : 'hover:bg-gray-100 dark:hover:bg-gray-700'}\n            `,\n          children: /*#__PURE__*/_jsxDEV(Star, {\n            size: 14,\n            className: isFavorited ? 'text-amber-400 fill-amber-400' : 'text-gray-400 dark:text-gray-500 hover:text-amber-400 dark:hover:text-amber-400'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-tooltip-id\": \"delete-tooltip\",\n          \"data-tooltip-content\": \"Delete chat\",\n          onClick: e => {\n            e.stopPropagation();\n            onDelete(chat.id);\n          },\n          className: `\n              p-1.5 rounded-lg transition-colors duration-200\n              ${isFavorited ? 'hover:bg-red-50 dark:hover:bg-red-900/30 text-amber-600/70 hover:text-red-500 dark:text-amber-400/70 dark:hover:text-red-400' : 'hover:bg-red-50 dark:hover:bg-red-900/30 text-gray-400 hover:text-red-500 dark:text-gray-500 dark:hover:text-red-400'}\n            `,\n          children: /*#__PURE__*/_jsxDEV(Trash2, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n}\n_c3 = ChatItem;\nfunction App() {\n  _s();\n  const [chats, setChats] = useState([]);\n  const [currentChatId, setCurrentChatId] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [question, setQuestion] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showPdfModal, setShowPdfModal] = useState(false);\n  const [pdfUrlToPreview, setPdfUrlToPreview] = useState(null);\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  const [showTyping, setShowTyping] = useState(false);\n  const typingTimeoutRef = useRef(null);\n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const mainFileInputRef = useRef(null);\n  const [favoritedChats, setFavoritedChats] = useState(new Set());\n  const [attachedPDFs, setAttachedPDFs] = useState([]);\n  const [userLanguage, setUserLanguage] = useState('en');\n\n  // Add a new state for the chat being renamed\n  const [renamingChatId, setRenamingChatId] = useState(null);\n  const [newChatName, setNewChatName] = useState('');\n  const [isSidebarOpen, setIsSidebarOpen] = useState(() => {\n    const saved = localStorage.getItem('sidebarOpen');\n    return saved !== null ? JSON.parse(saved) : true;\n  });\n  const onDocumentLoadSuccess = ({\n    numPages\n  }) => {\n    setNumPages(numPages);\n    setPageNumber(1); // Reset to first page when new PDF loads\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  const handleFileUpload = async event => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // If we have a current chat, append to it; otherwise create new chat\n    await uploadFilesToChat(files, currentChatId);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const files = Array.from(e.dataTransfer.files).filter(file => file.type === 'application/pdf');\n    if (files.length > 0) {\n      const event = {\n        target: {\n          files\n        }\n      };\n      handleFileUpload(event);\n    }\n  };\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!question.trim() || !currentChatId) return;\n\n    // Detect user's language\n    try {\n      const response = await fetch(`${API_BASE_URL}/detect-language/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          text: question\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setUserLanguage(data.language);\n      }\n    } catch (e) {\n      console.error('Language detection failed:', e);\n    }\n    const userMessage = {\n      role: 'user',\n      content: question\n    };\n    setMessages(prevMessages => [...prevMessages, userMessage]);\n    setQuestion('');\n    setLoading(true);\n    setShowTyping(false);\n    if (typingTimeoutRef.current) clearTimeout(typingTimeoutRef.current);\n    typingTimeoutRef.current = setTimeout(() => setShowTyping(true), 300);\n    try {\n      const response = await fetch(`${API_BASE_URL}/chat/${currentChatId}/message/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          text: userMessage.content,\n          sender: 'user',\n          language: userLanguage\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n      }\n      const data = await response.json();\n      setMessages(prevMessages => [...prevMessages, {\n        role: 'assistant',\n        content: data.response\n      }]);\n      fetchChats();\n      toast.success(\"Answer generated! 💬\");\n    } catch (e) {\n      setMessages(prevMessages => prevMessages.slice(0, prevMessages.length - 1)); // Remove user message if failed\n      toast.error(`Failed to generate answer: ${e.message} ⚠️`);\n    } finally {\n      setLoading(false);\n      setShowTyping(false); // Hide typing animation when response is complete\n      if (typingTimeoutRef.current) {\n        clearTimeout(typingTimeoutRef.current);\n        typingTimeoutRef.current = null;\n      }\n    }\n  };\n  const handleDeleteChat = async chatId => {\n    if (window.confirm(\"Are you sure you want to delete this chat? This action cannot be undone.\")) {\n      setLoading(true);\n      try {\n        const response = await fetch(`${API_BASE_URL}/chats/${chatId}/`, {\n          method: 'DELETE'\n        });\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n        }\n        if (currentChatId === chatId) {\n          setCurrentChatId(null);\n          setMessages([]);\n          setAttachedPDFs([]);\n        }\n        setChats(prevChats => prevChats.filter(chat => chat.id !== chatId));\n        toast.success(\"Chat deleted successfully! 🗑️\");\n      } catch (e) {\n        toast.error(`Failed to delete chat: ${e.message} ⚠️`);\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n  const handleDeleteAllChats = async () => {\n    if (window.confirm(\"Are you sure you want to delete ALL chats? This action cannot be undone.\")) {\n      setLoading(true);\n      try {\n        console.log(\"Sending delete all chats request...\");\n        const response = await fetch(`${API_BASE_URL}/chats/all/`, {\n          method: 'DELETE'\n        });\n        console.log(\"Delete all chats response status:\", response.status);\n        if (!response.ok) {\n          const errorData = await response.json();\n          console.error(\"Delete all chats error:\", errorData);\n          throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n        }\n        const result = await response.json();\n        console.log(\"Delete all chats success:\", result);\n        setCurrentChatId(null);\n        setChats([]);\n        setMessages([]);\n        setAttachedPDFs([]);\n        toast.success(\"All chats deleted! 🗑️\");\n\n        // Refresh the chat list to ensure UI is updated\n        await fetchChats();\n      } catch (e) {\n        console.error(\"Delete all chats failed:\", e);\n        toast.error(`Failed to delete all chats: ${e.message} ⚠️`);\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n  const handlePdfPreview = pdfPath => {\n    if (!pdfPath) {\n      toast.error(\"PDF path is not available.\");\n      return;\n    }\n    const pdfUrl = `${API_BASE_URL}/pdfs/${pdfPath}`; // Ensure the URL is correctly constructed\n    setPdfUrlToPreview(pdfUrl);\n    setShowPdfModal(true);\n  };\n  const toggleDarkMode = () => {\n    setIsDarkMode(!isDarkMode);\n    document.documentElement.classList.toggle('dark');\n  };\n  const toggleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n    localStorage.setItem('sidebarOpen', JSON.stringify(!isSidebarOpen));\n  };\n\n  // Keyboard shortcut to toggle sidebar (Ctrl/Cmd + B)\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if ((event.ctrlKey || event.metaKey) && event.key === 'b') {\n        event.preventDefault();\n        toggleSidebar();\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [isSidebarOpen]);\n  const toggleFavorite = chatId => {\n    setFavoritedChats(prev => {\n      const newFavorited = new Set(prev);\n      if (newFavorited.has(chatId)) {\n        newFavorited.delete(chatId);\n      } else {\n        newFavorited.add(chatId);\n      }\n      return newFavorited;\n    });\n  };\n  const uploadFilesToChat = async (files, targetChatId = null) => {\n    console.log('uploadFilesToChat called with:', files.length, 'files, targetChatId:', targetChatId);\n    if (files.length === 0) return;\n    setLoading(true);\n    toast.info(\"Uploading and processing PDFs...\");\n    try {\n      const uploadPromises = files.map(async file => {\n        console.log('Uploading file:', file.name);\n        const formData = new FormData();\n        formData.append('file', file);\n\n        // Add chat_id to form data if we're appending to an existing chat\n        if (targetChatId) {\n          formData.append('chat_id', targetChatId);\n          console.log('Appending to existing chat:', targetChatId);\n        } else {\n          console.log('Creating new chat');\n        }\n        const response = await fetch(`${API_BASE_URL}/upload-pdf/`, {\n          method: 'POST',\n          body: formData\n        });\n        console.log('Upload response status:', response.status);\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n        }\n        const result = await response.json();\n        console.log('Upload result:', result);\n        return result;\n      });\n      const results = await Promise.all(uploadPromises);\n      console.log('All upload results:', results);\n\n      // Update the attached PDFs for the current chat\n      if (targetChatId && currentChatId === targetChatId) {\n        console.log('Updating existing chat with new files');\n        setAttachedPDFs(prev => {\n          const newFiles = [...prev, ...results.map(file => ({\n            path: file.pdf_path,\n            name: file.chat_name,\n            language: file.language\n          }))];\n          console.log('New attachedPDFs:', newFiles);\n          return newFiles;\n        });\n      }\n\n      // Set the first chat as current if none is selected and we're not appending\n      if (!currentChatId && !targetChatId && results.length > 0) {\n        console.log('Setting new chat as current:', results[0].chat_id);\n        setCurrentChatId(results[0].chat_id);\n        const newFiles = results.map(file => ({\n          path: file.pdf_path,\n          name: file.chat_name,\n          language: file.language\n        }));\n        console.log('Setting attachedPDFs for new chat:', newFiles);\n        setAttachedPDFs(newFiles);\n      }\n      fetchChats();\n      const action = targetChatId ? 'appended to chat' : 'uploaded and processed';\n      toast.success(`${files.length} PDF${files.length > 1 ? 's' : ''} ${action} successfully! ✅`);\n    } catch (e) {\n      console.error('Upload error:', e);\n      toast.error(`PDF upload failed: ${e.message} ❌`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchChats();\n  }, []);\n  useEffect(() => {\n    if (currentChatId) {\n      fetchChatMessages(currentChatId);\n    } else {\n      setMessages([]);\n      setAttachedPDFs([]);\n    }\n  }, [currentChatId]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  useEffect(() => {\n    // Check for saved theme preference\n    const savedTheme = localStorage.getItem('theme');\n    if (savedTheme === 'dark') {\n      setIsDarkMode(true);\n      document.documentElement.classList.add('dark');\n    }\n  }, []);\n  useEffect(() => {\n    return () => {\n      if (typingTimeoutRef.current) clearTimeout(typingTimeoutRef.current);\n    };\n  }, []);\n  const fetchChats = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data && Array.isArray(data.chats)) {\n        setChats(data.chats);\n      } else {\n        setChats([]);\n        console.warn('Received invalid chat data format:', data);\n      }\n    } catch (e) {\n      setChats([]); // Clear chats on error\n    }\n  };\n  const fetchChatMessages = async chatId => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/${chatId}/`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data && Array.isArray(data.messages)) {\n        setMessages(data.messages);\n        // Load associated PDFs\n        if (data.pdf_paths) {\n          setAttachedPDFs(data.pdf_paths.map((path, index) => {\n            var _data$pdf_names;\n            return {\n              path: path,\n              name: ((_data$pdf_names = data.pdf_names) === null || _data$pdf_names === void 0 ? void 0 : _data$pdf_names[index]) || path.split('/').pop(),\n              language: data.language || 'en'\n            };\n          }));\n        }\n      } else {\n        setMessages([]);\n        setAttachedPDFs([]);\n        console.warn('Received invalid chat message data format:', data);\n      }\n    } catch (e) {\n      setMessages([]); // Clear messages on error\n      setAttachedPDFs([]); // Clear PDFs on error\n      toast.error(`Failed to load chat: ${e.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex h-screen bg-background-light dark:bg-background-dark text-text-primary-light dark:text-text-primary-dark transition-colors duration-200 ${!isSidebarOpen ? 'sidebar-closed' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"bottom-right\",\n      autoClose: 3000,\n      hideProgressBar: false,\n      newestOnTop: true,\n      closeOnClick: true,\n      rtl: false,\n      pauseOnFocusLoss: true,\n      draggable: true,\n      pauseOnHover: true,\n      theme: isDarkMode ? \"dark\" : \"light\",\n      limit: 3,\n      transition: Slide,\n      icon: ({\n        type\n      }) => getToastIcon(type)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 718,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: `\n        sidebar w-80 p-6 flex flex-col shadow-lg z-40 \n        bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700\n        transition-all duration-300 ease-in-out\n        ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'}\n        fixed md:fixed md:top-0 md:left-0 md:h-full\n        ${isSidebarOpen ? 'left-0' : '-left-full md:left-0'}\n      `,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-3xl font-extrabold tracking-wide gradient-text\",\n          children: \"Inquiero\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleSidebar,\n          className: \"btn-icon btn-icon-primary hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200\",\n          \"data-tooltip-id\": \"sidebar-tooltip\",\n          \"data-tooltip-content\": `${isSidebarOpen ? \"Close sidebar\" : \"Open sidebar\"} (Ctrl+B)`,\n          children: /*#__PURE__*/_jsxDEV(Menu, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary w-full flex items-center justify-center gap-2 hover:shadow-lg transition-all duration-200\",\n          onClick: () => {\n            setCurrentChatId(null);\n            setMessages([]);\n            setAttachedPDFs([]); // Clear attached PDFs for new chat\n          },\n          \"data-tooltip-id\": \"new-chat-tooltip\",\n          \"data-tooltip-content\": \"Start a new chat\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 766,\n            columnNumber: 13\n          }, this), \" New Chat\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 756,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary w-full flex items-center justify-center gap-2 hover:shadow-lg transition-all duration-200\",\n          onClick: handleDeleteAllChats,\n          \"data-tooltip-id\": \"delete-all-tooltip\",\n          \"data-tooltip-content\": \"Delete all chats\",\n          children: [/*#__PURE__*/_jsxDEV(Trash2, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 13\n          }, this), \" Delete All\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 769,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 755,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto pr-2 -mr-2 space-y-2\",\n        children: chats.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            size: 40,\n            className: \"mx-auto mb-4 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 782,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 dark:text-gray-400 text-sm\",\n            children: \"No chats yet. Upload a PDF to start!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 783,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 781,\n          columnNumber: 13\n        }, this) : [...chats].sort((a, b) => {\n          // First sort by favorite status\n          const aFavorited = favoritedChats.has(a.id);\n          const bFavorited = favoritedChats.has(b.id);\n          if (aFavorited && !bFavorited) return -1;\n          if (!aFavorited && bFavorited) return 1;\n\n          // Then sort by creation date (newest first)\n          const aDate = new Date(a.created_at || 0);\n          const bDate = new Date(b.created_at || 0);\n          return bDate - aDate;\n        }).map(chat => /*#__PURE__*/_jsxDEV(ChatItem, {\n          chat: chat,\n          isSelected: currentChatId === chat.id,\n          isFavorited: favoritedChats.has(chat.id),\n          onSelect: setCurrentChatId,\n          onRename: (id, name) => {\n            setRenamingChatId(id);\n            setNewChatName(name);\n          },\n          onFavorite: toggleFavorite,\n          onDelete: handleDeleteChat,\n          renamingChatId: renamingChatId,\n          newChatName: newChatName,\n          setNewChatName: setNewChatName\n        }, chat.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 800,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 779,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        id: \"rename-tooltip\",\n        place: \"top\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 821,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        id: \"favorite-tooltip\",\n        place: \"top\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 822,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        id: \"delete-tooltip\",\n        place: \"top\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 823,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        id: \"sidebar-tooltip\",\n        place: \"bottom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 824,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        id: \"new-chat-tooltip\",\n        place: \"bottom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 825,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        id: \"delete-all-tooltip\",\n        place: \"bottom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 826,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        id: \"upload-tooltip\",\n        place: \"bottom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 827,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        id: \"theme-tooltip\",\n        place: \"bottom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 828,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        id: \"preview-tooltip\",\n        place: \"top\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 829,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        id: \"remove-tooltip\",\n        place: \"top\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 830,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 735,\n      columnNumber: 7\n    }, this), isSidebarOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden\",\n      onClick: toggleSidebar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 835,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: `\n        flex-1 flex flex-col transition-all duration-300 ease-in-out\n        ${isSidebarOpen ? 'md:ml-80' : 'ml-0'}\n        ${isSidebarOpen ? 'md:w-auto' : 'w-full'}\n        ${isSidebarOpen ? 'md:max-w-none' : 'max-w-full'}\n        ${isSidebarOpen ? 'md:relative' : 'md:relative'}\n      `,\n      children: [!isSidebarOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-4 left-4 z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleSidebar,\n          className: \"btn-icon btn-icon-primary hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 shadow-lg\",\n          \"data-tooltip-id\": \"sidebar-tooltip\",\n          \"data-tooltip-content\": \"Open sidebar (Ctrl+B)\",\n          children: /*#__PURE__*/_jsxDEV(Menu, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 858,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 852,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 851,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-4 right-4 z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleDarkMode,\n          className: \"btn-icon btn-icon-primary hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 shadow-lg\",\n          \"data-tooltip-id\": \"theme-tooltip\",\n          \"data-tooltip-content\": isDarkMode ? \"Switch to light mode\" : \"Switch to dark mode\",\n          children: isDarkMode ? /*#__PURE__*/_jsxDEV(Sun, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 871,\n            columnNumber: 27\n          }, this) : /*#__PURE__*/_jsxDEV(Moon, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 871,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 865,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 864,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex-1 overflow-y-auto space-y-4 transition-all duration-300 ${isSidebarOpen ? 'md:max-w-none p-6' : 'max-w-full p-6 md:p-8 lg:p-12'}`,\n        children: [currentChatId && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `mb-6 transition-all duration-300 ${isSidebarOpen ? 'md:max-w-4xl md:mx-auto' : 'w-full'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold mb-2 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              size: 20,\n              className: \"text-accent-blue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 879,\n              columnNumber: 17\n            }, this), \"Attached PDFs\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 878,\n            columnNumber: 15\n          }, this), attachedPDFs.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-center justify-center min-h-[220px] border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-900/40 p-8 transition-colors duration-200\",\n            onDragOver: handleDragOver,\n            onDrop: handleDrop,\n            style: {\n              cursor: 'pointer'\n            },\n            onClick: () => {\n              if (mainFileInputRef.current) mainFileInputRef.current.click();\n            },\n            children: [/*#__PURE__*/_jsxDEV(FileUp, {\n              size: 40,\n              className: \"mb-4 text-blue-400 dark:text-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-base font-medium text-gray-700 dark:text-gray-200 mb-2\",\n              children: \"Drag & drop PDF here\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 891,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary px-6 py-2 mt-2 rounded-lg text-base font-semibold shadow-sm\",\n              onClick: e => {\n                e.stopPropagation();\n                if (mainFileInputRef.current) mainFileInputRef.current.click();\n              },\n              children: \"Upload PDF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 883,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `grid gap-3 ${isSidebarOpen ? 'md:grid-cols-1' : 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4'}`,\n              children: attachedPDFs.map((file, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group relative flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-3 min-w-0 flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(FileText, {\n                    size: 20,\n                    className: \"text-accent-blue dark:text-accent-purple flex-shrink-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 909,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"min-w-0 flex-1\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium truncate block\",\n                      children: file.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 911,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 910,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 908,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handlePdfPreview(file.path),\n                  className: \"btn-icon btn-icon-primary p-1.5 opacity-0 group-hover:opacity-100\",\n                  \"data-tooltip-id\": \"preview-tooltip\",\n                  \"data-tooltip-content\": \"Preview PDF\",\n                  children: /*#__PURE__*/_jsxDEV(Eye, {\n                    size: 14\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 920,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 914,\n                  columnNumber: 25\n                }, this)]\n              }, file.path || idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 904,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 902,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                if (mainFileInputRef.current) mainFileInputRef.current.click();\n              },\n              className: \"btn btn-secondary text-sm flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(FileUp, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 929,\n                columnNumber: 21\n              }, this), \" Add More\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 925,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 901,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 877,\n          columnNumber: 13\n        }, this), currentChatId ? messages.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `space-y-4 transition-all duration-300 ${isSidebarOpen ? 'md:max-w-4xl md:mx-auto' : 'w-full'}`,\n          children: messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `chat-bubble ${message.role === 'user' ? 'chat-bubble-user' : 'chat-bubble-ai'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start\",\n              children: [message.role === 'user' ? /*#__PURE__*/_jsxDEV(MessageSquare, {\n                size: 20,\n                className: \"mr-2 text-accent-blue\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 947,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(Clock, {\n                size: 20,\n                className: \"mr-2 text-accent-purple\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 949,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: message.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 951,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 945,\n              columnNumber: 21\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 939,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 937,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center h-full text-text-secondary\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Start by asking a question about your PDF!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 958,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 957,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center h-full\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold mb-4\",\n              children: \"Welcome to Inquiero! \\uD83D\\uDC4B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 964,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-text-secondary mb-8\",\n              children: \"Upload a PDF to start asking questions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 965,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"file-upload-btn\",\n              onDragOver: handleDragOver,\n              onDrop: handleDrop,\n              children: [/*#__PURE__*/_jsxDEV(FileUp, {\n                size: 20,\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 971,\n                columnNumber: 19\n              }, this), \" Upload PDF\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \".pdf\",\n                multiple: true,\n                onChange: handleFileUpload\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 972,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 966,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 963,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 962,\n          columnNumber: 13\n        }, this), showTyping && /*#__PURE__*/_jsxDEV(TypingBubble, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 982,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 983,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 9\n      }, this), currentChatId && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed bottom-20 left-0 right-0 z-30 flex justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg px-4 py-3 flex items-center gap-4 max-w-2xl w-full mx-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n              children: [\"Attached Files (\", attachedPDFs.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 991,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2\",\n              children: attachedPDFs.length === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-500 dark:text-gray-400 text-sm\",\n                children: \"No PDFs attached yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 996,\n                columnNumber: 21\n              }, this) : attachedPDFs.map((file, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 dark:bg-blue-900/30 rounded text-xs font-medium text-blue-700 dark:text-blue-200 border border-blue-200 dark:border-blue-700\",\n                children: [/*#__PURE__*/_jsxDEV(FileText, {\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1000,\n                  columnNumber: 25\n                }, this), file.name]\n              }, file.path || idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 999,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 994,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 990,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary btn-sm flex items-center gap-2 whitespace-nowrap\",\n            onClick: () => {\n              if (mainFileInputRef.current) {\n                mainFileInputRef.current.click();\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(FileUp, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1015,\n              columnNumber: 17\n            }, this), \" Upload More\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1007,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 989,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 988,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSendMessage,\n        className: `border-t border-gray-200 dark:border-gray-700 transition-all duration-300 ${isSidebarOpen ? 'md:max-w-none p-4' : 'max-w-full p-4 md:p-6 lg:p-8'}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex space-x-4 transition-all duration-300 ${isSidebarOpen ? 'md:max-w-4xl md:mx-auto' : 'w-full'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: question,\n            onChange: e => setQuestion(e.target.value),\n            placeholder: \"Ask a question about your PDF...\",\n            className: \"input-field flex-1\",\n            disabled: loading || !currentChatId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1023,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading || !question.trim() || !currentChatId,\n            className: \"btn btn-primary flex-shrink-0\",\n            children: loading ? /*#__PURE__*/_jsxDEV(Clock, {\n              size: 20,\n              className: \"animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1036,\n              columnNumber: 26\n            }, this) : /*#__PURE__*/_jsxDEV(Send, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1036,\n              columnNumber: 73\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1031,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1022,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1021,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        ref: mainFileInputRef,\n        accept: \".pdf\",\n        multiple: true,\n        onChange: handleFileUpload,\n        className: \"hidden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1042,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 842,\n      columnNumber: 7\n    }, this), showPdfModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-xl p-4 max-w-4xl w-full max-h-[90vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold\",\n            children: \"PDF Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1057,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowPdfModal(false),\n            className: \"btn-icon btn-icon-secondary\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1062,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1058,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1056,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Document, {\n          file: pdfUrlToPreview,\n          onLoadSuccess: onDocumentLoadSuccess,\n          className: \"flex justify-center\",\n          children: /*#__PURE__*/_jsxDEV(Page, {\n            pageNumber: pageNumber,\n            renderTextLayer: false,\n            renderAnnotationLayer: false,\n            className: \"shadow-soft\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1070,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1065,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center mt-4 space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setPageNumber(Math.max(1, pageNumber - 1)),\n            disabled: pageNumber <= 1,\n            className: \"btn btn-icon btn-icon-secondary\",\n            children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1083,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1078,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"py-2\",\n            children: [\"Page \", pageNumber, \" of \", numPages]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1085,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setPageNumber(Math.min(numPages, pageNumber + 1)),\n            disabled: pageNumber >= numPages,\n            className: \"btn btn-icon btn-icon-secondary\",\n            children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1093,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1088,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1077,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1055,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1054,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 717,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"PqfsLIpWkMP22uExbcR8EMcr3AQ=\");\n_c4 = App;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"TypingBubble\");\n$RefreshReg$(_c2, \"PDFFileList\");\n$RefreshReg$(_c3, \"ChatItem\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","ToastContainer","toast","Slide","Document","Page","pdfjs","Plus","Trash2","FileText","Send","Moon","Sun","ChevronLeft","ChevronRight","X","FileUp","Clock","MessageSquare","Star","Edit","Menu","Eye","Tooltip","jsxDEV","_jsxDEV","GlobalWorkerOptions","workerSrc","API_BASE_URL","getToastIcon","type","TypingBubble","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","PDFFileList","files","onAddMore","onPreview","onRemove","isSidebarOpen","showAddButton","onDragOver","onDrop","length","style","cursor","onClick","size","e","stopPropagation","map","file","idx","name","language","toUpperCase","uploadedAt","Date","toLocaleDateString","path","_c2","ChatItem","chat","isSelected","isFavorited","onSelect","onRename","onFavorite","onDelete","renamingChatId","newChatName","setNewChatName","isRenaming","id","value","onChange","target","onBlur","onKeyPress","key","autoFocus","_c3","App","_s","chats","setChats","currentChatId","setCurrentChatId","messages","setMessages","question","setQuestion","loading","setLoading","showPdfModal","setShowPdfModal","pdfUrlToPreview","setPdfUrlToPreview","numPages","setNumPages","pageNumber","setPageNumber","isDarkMode","setIsDarkMode","showTyping","setShowTyping","typingTimeoutRef","messagesEndRef","fileInputRef","mainFileInputRef","favoritedChats","setFavoritedChats","Set","attachedPDFs","setAttachedPDFs","userLanguage","setUserLanguage","setRenamingChatId","setIsSidebarOpen","saved","localStorage","getItem","JSON","parse","onDocumentLoadSuccess","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleFileUpload","event","Array","from","uploadFilesToChat","handleDragOver","preventDefault","handleDrop","dataTransfer","filter","handleSendMessage","trim","response","fetch","method","headers","body","stringify","text","ok","data","json","console","error","userMessage","role","content","prevMessages","clearTimeout","setTimeout","sender","errorData","Error","status","detail","statusText","fetchChats","success","slice","message","handleDeleteChat","chatId","window","confirm","prevChats","handleDeleteAllChats","log","result","handlePdfPreview","pdfPath","pdfUrl","toggleDarkMode","document","documentElement","classList","toggle","toggleSidebar","setItem","handleKeyDown","ctrlKey","metaKey","addEventListener","removeEventListener","toggleFavorite","prev","newFavorited","has","delete","add","targetChatId","info","uploadPromises","formData","FormData","append","results","Promise","all","newFiles","pdf_path","chat_name","chat_id","action","fetchChatMessages","savedTheme","isArray","warn","pdf_paths","index","_data$pdf_names","pdf_names","split","pop","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","theme","limit","transition","icon","sort","a","b","aFavorited","bFavorited","aDate","created_at","bDate","place","click","accept","multiple","ref","onSubmit","placeholder","disabled","onLoadSuccess","renderTextLayer","renderAnnotationLayer","Math","max","min","_c4","$RefreshReg$"],"sources":["C:/Users/LENOVO/Downloads/Inquiero/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { ToastContainer, toast, Slide } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport {\n  Plus,\n  Trash2,\n  FileText,\n  Send,\n  Moon,\n  Sun,\n  ChevronLeft,\n  ChevronRight,\n  X,\n  FileUp,\n  Clock,\n  MessageSquare,\n  Star,\n  Edit,\n  Menu,\n  Eye\n} from 'lucide-react';\nimport './styles/globals.css';\nimport { Tooltip } from 'react-tooltip';\nimport 'react-tooltip/dist/react-tooltip.css';\n\n// Configure react-pdf worker\npdfjs.GlobalWorkerOptions.workerSrc = '/pdf.worker.min.js';\n\nconst API_BASE_URL = 'http://localhost:8000'; // Assuming FastAPI runs on port 8000\n\nfunction getToastIcon(type) {\n  switch (type) {\n    case 'success':\n      return '✅';\n    case 'error':\n      return '❌';\n    case 'info':\n      return 'ℹ️';\n    case 'warning':\n      return '⚠️';\n    default:\n      return '🔔';\n  }\n}\n\nfunction TypingBubble() {\n  return (\n    <div className=\"chat-bubble chat-bubble-ai typing-bubble\">\n      <div className=\"typing-dots\">\n        <span></span><span></span><span></span>\n      </div>\n    </div>\n  );\n}\n\nfunction PDFFileList({ \n  files, \n  onAddMore, \n  onPreview, \n  onRemove, \n  isSidebarOpen,\n  showAddButton = true,\n  onDragOver,\n  onDrop\n}) {\n  if (files.length === 0) {\n    return (\n      <div\n        className=\"flex flex-col items-center justify-center min-h-[220px] border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-900/40 p-8 transition-colors duration-200\"\n        onDragOver={onDragOver}\n        onDrop={onDrop}\n        style={{ cursor: 'pointer' }}\n        onClick={onAddMore}\n      >\n        <FileUp size={40} className=\"mb-4 text-blue-400 dark:text-blue-500\" />\n        <p className=\"text-base font-medium text-gray-700 dark:text-gray-200 mb-2\">Drag & drop PDF here</p>\n        <button\n          type=\"button\"\n          className=\"btn btn-primary px-6 py-2 mt-2 rounded-lg text-base font-semibold shadow-sm\"\n          onClick={e => { e.stopPropagation(); onAddMore(); }}\n        >\n          Upload PDF\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold flex items-center gap-2\">\n          <FileText size={20} className=\"text-accent-blue\" />\n          Uploaded Files ({files.length})\n        </h3>\n        {showAddButton && (\n          <button \n            onClick={onAddMore}\n            className=\"btn btn-secondary text-sm flex items-center gap-2\"\n          >\n            <FileUp size={16} /> Add More\n          </button>\n        )}\n      </div>\n      \n      <div className={`grid gap-3 ${isSidebarOpen ? 'md:grid-cols-1' : 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4'}`}>\n        {files.map((file, idx) => (\n          <div \n            key={file.path || idx} \n            className=\"group relative flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200\"\n          >\n            <div className=\"flex items-center gap-3 min-w-0 flex-1\">\n              <FileText size={20} className=\"text-accent-blue dark:text-accent-purple flex-shrink-0\" />\n              <div className=\"min-w-0 flex-1\">\n                <span className=\"text-sm font-medium truncate block\">{file.name}</span>\n                {file.language && file.language !== 'en' && (\n                  <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                    {file.language.toUpperCase()}\n                  </span>\n                )}\n                {file.uploadedAt && (\n                  <span className=\"text-xs text-gray-400 dark:text-gray-500\">\n                    {new Date(file.uploadedAt).toLocaleDateString()}\n                  </span>\n                )}\n              </div>\n            </div>\n            \n            <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200\">\n              <button \n                onClick={() => onPreview(file.path)}\n                className=\"btn-icon btn-icon-primary p-1.5\"\n                data-tooltip-id=\"preview-tooltip\"\n                data-tooltip-content=\"Preview PDF\"\n              >\n                <Eye size={14} />\n              </button>\n              {onRemove && (\n                <button \n                  onClick={() => onRemove(file.path)}\n                  className=\"btn-icon btn-icon-secondary p-1.5\"\n                  data-tooltip-id=\"remove-tooltip\"\n                  data-tooltip-content=\"Remove file\"\n                >\n                  <Trash2 size={14} />\n                </button>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction ChatItem({ \n  chat, \n  isSelected, \n  isFavorited, \n  onSelect, \n  onRename, \n  onFavorite, \n  onDelete, \n  renamingChatId, \n  newChatName, \n  setNewChatName \n}) {\n  const isRenaming = renamingChatId === chat.id;\n\n  return (\n    <div \n      className={`\n        group relative flex flex-col transition-all duration-200\n        ${isSelected \n          ? 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800' \n          : isFavorited\n            ? 'bg-amber-50/50 dark:bg-amber-900/10 border-amber-200 dark:border-amber-800/50 hover:bg-amber-50 dark:hover:bg-amber-900/20'\n            : 'bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50'\n        }\n        border rounded-xl shadow-sm hover:shadow-md\n        cursor-pointer select-none\n        ${isFavorited ? 'ring-1 ring-amber-200 dark:ring-amber-800/50' : ''}\n      `}\n    >\n      <div \n        className=\"flex items-center justify-between p-3\"\n        onClick={() => onSelect(chat.id)}\n      >\n        <div className=\"flex items-center gap-3 min-w-0 flex-1\">\n          <div className=\"flex-shrink-0 relative\">\n            {isFavorited && (\n              <div className=\"absolute -top-1 -right-1\">\n                <Star \n                  size={12} \n                  className=\"text-amber-400 fill-amber-400\" \n                />\n              </div>\n            )}\n            <FileText \n              size={18} \n              className={`\n                ${isSelected \n                  ? 'text-blue-600 dark:text-blue-400' \n                  : isFavorited\n                    ? 'text-amber-600 dark:text-amber-400'\n                    : 'text-gray-400 dark:text-gray-500'\n                }\n                transition-colors duration-200\n              `} \n            />\n          </div>\n          <div className=\"min-w-0 flex-1\">\n            {isRenaming ? (\n              <input\n                type=\"text\"\n                value={newChatName}\n                onChange={(e) => setNewChatName(e.target.value)}\n                onBlur={() => onRename(chat.id, newChatName)}\n                onKeyPress={(e) => {\n                  if (e.key === 'Enter') {\n                    onRename(chat.id, newChatName);\n                  }\n                }}\n                className={`\n                  w-full px-2 py-1 text-sm rounded-md \n                  ${isFavorited \n                    ? 'border-amber-200 dark:border-amber-800 focus:ring-amber-500' \n                    : 'border-blue-200 dark:border-blue-800 focus:ring-blue-500'\n                  }\n                  bg-white dark:bg-gray-800 focus:ring-2 focus:border-transparent\n                  transition-all duration-200\n                `}\n                autoFocus\n              />\n            ) : (\n              <p className={`\n                text-sm font-medium truncate\n                ${isFavorited \n                  ? 'text-amber-700 dark:text-amber-300' \n                  : 'text-gray-700 dark:text-gray-200'\n                }\n              `}>\n                {chat.name}\n              </p>\n            )}\n          </div>\n        </div>\n        \n        <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200\">\n          <button\n            data-tooltip-id=\"rename-tooltip\"\n            data-tooltip-content=\"Rename chat\"\n            onClick={(e) => {\n              e.stopPropagation();\n              onRename(chat.id, chat.name);\n            }}\n            className={`\n              p-1.5 rounded-lg transition-colors duration-200\n              ${isFavorited\n                ? 'hover:bg-amber-100 dark:hover:bg-amber-900/30 text-amber-600 dark:text-amber-400'\n                : 'hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200'\n              }\n            `}\n          >\n            <Edit size={14} />\n          </button>\n          \n          <button\n            data-tooltip-id=\"favorite-tooltip\"\n            data-tooltip-content={isFavorited ? \"Remove from favorites\" : \"Add to favorites\"}\n            onClick={(e) => {\n              e.stopPropagation();\n              onFavorite(chat.id);\n            }}\n            className={`\n              p-1.5 rounded-lg transition-colors duration-200\n              ${isFavorited\n                ? 'hover:bg-amber-100 dark:hover:bg-amber-900/30'\n                : 'hover:bg-gray-100 dark:hover:bg-gray-700'\n              }\n            `}\n          >\n            <Star \n              size={14} \n              className={isFavorited \n                ? 'text-amber-400 fill-amber-400' \n                : 'text-gray-400 dark:text-gray-500 hover:text-amber-400 dark:hover:text-amber-400'\n              } \n            />\n          </button>\n          \n          <button\n            data-tooltip-id=\"delete-tooltip\"\n            data-tooltip-content=\"Delete chat\"\n            onClick={(e) => {\n              e.stopPropagation();\n              onDelete(chat.id);\n            }}\n            className={`\n              p-1.5 rounded-lg transition-colors duration-200\n              ${isFavorited\n                ? 'hover:bg-red-50 dark:hover:bg-red-900/30 text-amber-600/70 hover:text-red-500 dark:text-amber-400/70 dark:hover:text-red-400'\n                : 'hover:bg-red-50 dark:hover:bg-red-900/30 text-gray-400 hover:text-red-500 dark:text-gray-500 dark:hover:text-red-400'\n              }\n            `}\n          >\n            <Trash2 size={14} />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction App() {\n  const [chats, setChats] = useState([]);\n  const [currentChatId, setCurrentChatId] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [question, setQuestion] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showPdfModal, setShowPdfModal] = useState(false);\n  const [pdfUrlToPreview, setPdfUrlToPreview] = useState(null);\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  const [showTyping, setShowTyping] = useState(false);\n  const typingTimeoutRef = useRef(null);\n\n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const mainFileInputRef = useRef(null);\n\n  const [favoritedChats, setFavoritedChats] = useState(new Set());\n  const [attachedPDFs, setAttachedPDFs] = useState([]);\n  const [userLanguage, setUserLanguage] = useState('en');\n\n  // Add a new state for the chat being renamed\n  const [renamingChatId, setRenamingChatId] = useState(null);\n  const [newChatName, setNewChatName] = useState('');\n\n  const [isSidebarOpen, setIsSidebarOpen] = useState(() => {\n    const saved = localStorage.getItem('sidebarOpen');\n    return saved !== null ? JSON.parse(saved) : true;\n  });\n\n  const onDocumentLoadSuccess = ({ numPages }) => {\n    setNumPages(numPages);\n    setPageNumber(1); // Reset to first page when new PDF loads\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  const handleFileUpload = async (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // If we have a current chat, append to it; otherwise create new chat\n    await uploadFilesToChat(files, currentChatId);\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    const files = Array.from(e.dataTransfer.files).filter(file => file.type === 'application/pdf');\n    if (files.length > 0) {\n      const event = { target: { files } };\n      handleFileUpload(event);\n    }\n  };\n\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    if (!question.trim() || !currentChatId) return;\n\n    // Detect user's language\n    try {\n      const response = await fetch(`${API_BASE_URL}/detect-language/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ text: question }),\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setUserLanguage(data.language);\n      }\n    } catch (e) {\n      console.error('Language detection failed:', e);\n    }\n\n    const userMessage = { role: 'user', content: question };\n    setMessages((prevMessages) => [...prevMessages, userMessage]);\n    setQuestion('');\n    setLoading(true);\n    setShowTyping(false);\n    if (typingTimeoutRef.current) clearTimeout(typingTimeoutRef.current);\n    typingTimeoutRef.current = setTimeout(() => setShowTyping(true), 300);\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/chat/${currentChatId}/message/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ \n          text: userMessage.content,\n          sender: 'user',\n          language: userLanguage\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n      }\n\n      const data = await response.json();\n      setMessages((prevMessages) => [...prevMessages, { role: 'assistant', content: data.response }]);\n      fetchChats();\n      toast.success(\"Answer generated! 💬\");\n\n    } catch (e) {\n      setMessages((prevMessages) => prevMessages.slice(0, prevMessages.length - 1)); // Remove user message if failed\n      toast.error(`Failed to generate answer: ${e.message} ⚠️`);\n    } finally {\n      setLoading(false);\n      setShowTyping(false); // Hide typing animation when response is complete\n      if (typingTimeoutRef.current) {\n        clearTimeout(typingTimeoutRef.current);\n        typingTimeoutRef.current = null;\n      }\n    }\n  };\n\n  const handleDeleteChat = async (chatId) => {\n    if (window.confirm(\"Are you sure you want to delete this chat? This action cannot be undone.\")) {\n      setLoading(true);\n      try {\n        const response = await fetch(`${API_BASE_URL}/chats/${chatId}/`, {\n          method: 'DELETE',\n        });\n\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n        }\n\n        if (currentChatId === chatId) {\n          setCurrentChatId(null);\n          setMessages([]);\n          setAttachedPDFs([]);\n        }\n        setChats(prevChats => prevChats.filter(chat => chat.id !== chatId));\n        toast.success(\"Chat deleted successfully! 🗑️\");\n      } catch (e) {\n        toast.error(`Failed to delete chat: ${e.message} ⚠️`);\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  const handleDeleteAllChats = async () => {\n    if (window.confirm(\"Are you sure you want to delete ALL chats? This action cannot be undone.\")) {\n      setLoading(true);\n      try {\n        console.log(\"Sending delete all chats request...\");\n        const response = await fetch(`${API_BASE_URL}/chats/all/`, {\n          method: 'DELETE',\n        });\n\n        console.log(\"Delete all chats response status:\", response.status);\n        \n        if (!response.ok) {\n          const errorData = await response.json();\n          console.error(\"Delete all chats error:\", errorData);\n          throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n        }\n\n        const result = await response.json();\n        console.log(\"Delete all chats success:\", result);\n\n        setCurrentChatId(null);\n        setChats([]);\n        setMessages([]);\n        setAttachedPDFs([]);\n        toast.success(\"All chats deleted! 🗑️\");\n        \n        // Refresh the chat list to ensure UI is updated\n        await fetchChats();\n      } catch (e) {\n        console.error(\"Delete all chats failed:\", e);\n        toast.error(`Failed to delete all chats: ${e.message} ⚠️`);\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  const handlePdfPreview = (pdfPath) => {\n    if (!pdfPath) {\n      toast.error(\"PDF path is not available.\");\n      return;\n    }\n    const pdfUrl = `${API_BASE_URL}/pdfs/${pdfPath}`; // Ensure the URL is correctly constructed\n    setPdfUrlToPreview(pdfUrl);\n    setShowPdfModal(true);\n  };\n\n  const toggleDarkMode = () => {\n    setIsDarkMode(!isDarkMode);\n    document.documentElement.classList.toggle('dark');\n  };\n\n  const toggleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n    localStorage.setItem('sidebarOpen', JSON.stringify(!isSidebarOpen));\n  };\n\n  // Keyboard shortcut to toggle sidebar (Ctrl/Cmd + B)\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if ((event.ctrlKey || event.metaKey) && event.key === 'b') {\n        event.preventDefault();\n        toggleSidebar();\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [isSidebarOpen]);\n\n  const toggleFavorite = (chatId) => {\n    setFavoritedChats(prev => {\n      const newFavorited = new Set(prev);\n      if (newFavorited.has(chatId)) {\n        newFavorited.delete(chatId);\n      } else {\n        newFavorited.add(chatId);\n      }\n      return newFavorited;\n    });\n  };\n\n  const uploadFilesToChat = async (files, targetChatId = null) => {\n    console.log('uploadFilesToChat called with:', files.length, 'files, targetChatId:', targetChatId);\n    if (files.length === 0) return;\n\n    setLoading(true);\n    toast.info(\"Uploading and processing PDFs...\");\n\n    try {\n      const uploadPromises = files.map(async (file) => {\n        console.log('Uploading file:', file.name);\n        const formData = new FormData();\n        formData.append('file', file);\n        \n        // Add chat_id to form data if we're appending to an existing chat\n        if (targetChatId) {\n          formData.append('chat_id', targetChatId);\n          console.log('Appending to existing chat:', targetChatId);\n        } else {\n          console.log('Creating new chat');\n        }\n\n        const response = await fetch(`${API_BASE_URL}/upload-pdf/`, {\n          method: 'POST',\n          body: formData,\n        });\n\n        console.log('Upload response status:', response.status);\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n        }\n\n        const result = await response.json();\n        console.log('Upload result:', result);\n        \n        return result;\n      });\n\n      const results = await Promise.all(uploadPromises);\n      console.log('All upload results:', results);\n      \n      // Update the attached PDFs for the current chat\n      if (targetChatId && currentChatId === targetChatId) {\n        console.log('Updating existing chat with new files');\n        setAttachedPDFs(prev => {\n          const newFiles = [...prev, ...results.map(file => ({\n            path: file.pdf_path,\n            name: file.chat_name,\n            language: file.language\n          }))];\n          console.log('New attachedPDFs:', newFiles);\n          return newFiles;\n        });\n      }\n      \n      // Set the first chat as current if none is selected and we're not appending\n      if (!currentChatId && !targetChatId && results.length > 0) {\n        console.log('Setting new chat as current:', results[0].chat_id);\n        setCurrentChatId(results[0].chat_id);\n        const newFiles = results.map(file => ({\n          path: file.pdf_path,\n          name: file.chat_name,\n          language: file.language\n        }));\n        console.log('Setting attachedPDFs for new chat:', newFiles);\n        setAttachedPDFs(newFiles);\n      }\n      \n      fetchChats();\n      const action = targetChatId ? 'appended to chat' : 'uploaded and processed';\n      toast.success(`${files.length} PDF${files.length > 1 ? 's' : ''} ${action} successfully! ✅`);\n    } catch (e) {\n      console.error('Upload error:', e);\n      toast.error(`PDF upload failed: ${e.message} ❌`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchChats();\n  }, []);\n\n  useEffect(() => {\n    if (currentChatId) {\n      fetchChatMessages(currentChatId);\n    } else {\n      setMessages([]);\n      setAttachedPDFs([]);\n    }\n  }, [currentChatId]);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  useEffect(() => {\n    // Check for saved theme preference\n    const savedTheme = localStorage.getItem('theme');\n    if (savedTheme === 'dark') {\n      setIsDarkMode(true);\n      document.documentElement.classList.add('dark');\n    }\n  }, []);\n\n  useEffect(() => {\n    return () => {\n      if (typingTimeoutRef.current) clearTimeout(typingTimeoutRef.current);\n    };\n  }, []);\n\n  const fetchChats = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data && Array.isArray(data.chats)) {\n        setChats(data.chats);\n      } else {\n        setChats([]);\n        console.warn('Received invalid chat data format:', data);\n      }\n    } catch (e) {\n      setChats([]); // Clear chats on error\n    }\n  };\n\n  const fetchChatMessages = async (chatId) => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/${chatId}/`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data && Array.isArray(data.messages)) {\n        setMessages(data.messages);\n        // Load associated PDFs\n        if (data.pdf_paths) {\n          setAttachedPDFs(data.pdf_paths.map((path, index) => ({\n            path: path,\n            name: data.pdf_names?.[index] || path.split('/').pop(),\n            language: data.language || 'en'\n          })));\n        }\n      } else {\n        setMessages([]);\n        setAttachedPDFs([]);\n        console.warn('Received invalid chat message data format:', data);\n      }\n    } catch (e) {\n      setMessages([]); // Clear messages on error\n      setAttachedPDFs([]); // Clear PDFs on error\n      toast.error(`Failed to load chat: ${e.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className={`flex h-screen bg-background-light dark:bg-background-dark text-text-primary-light dark:text-text-primary-dark transition-colors duration-200 ${!isSidebarOpen ? 'sidebar-closed' : ''}`}>\n      <ToastContainer\n        position=\"bottom-right\"\n        autoClose={3000}\n        hideProgressBar={false}\n        newestOnTop\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n        theme={isDarkMode ? \"dark\" : \"light\"}\n        limit={3}\n        transition={Slide}\n        icon={({ type }) => getToastIcon(type)}\n      />\n\n      {/* Sidebar */}\n      <aside className={`\n        sidebar w-80 p-6 flex flex-col shadow-lg z-40 \n        bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700\n        transition-all duration-300 ease-in-out\n        ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'}\n        fixed md:fixed md:top-0 md:left-0 md:h-full\n        ${isSidebarOpen ? 'left-0' : '-left-full md:left-0'}\n      `}>\n        <div className=\"flex justify-between items-center mb-8\">\n          <h3 className=\"text-3xl font-extrabold tracking-wide gradient-text\">Inquiero</h3>\n          <button\n            onClick={toggleSidebar}\n            className=\"btn-icon btn-icon-primary hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200\"\n            data-tooltip-id=\"sidebar-tooltip\"\n            data-tooltip-content={`${isSidebarOpen ? \"Close sidebar\" : \"Open sidebar\"} (Ctrl+B)`}\n          >\n            <Menu size={20} />\n          </button>\n        </div>\n        \n        <div className=\"space-y-3 mb-6\">\n          <button \n            className=\"btn btn-primary w-full flex items-center justify-center gap-2 hover:shadow-lg transition-all duration-200\"\n            onClick={() => {\n              setCurrentChatId(null);\n              setMessages([]);\n              setAttachedPDFs([]); // Clear attached PDFs for new chat\n            }}\n            data-tooltip-id=\"new-chat-tooltip\"\n            data-tooltip-content=\"Start a new chat\"\n          >\n            <Plus size={20} /> New Chat\n          </button>\n          \n          <button \n            className=\"btn btn-secondary w-full flex items-center justify-center gap-2 hover:shadow-lg transition-all duration-200\"\n            onClick={handleDeleteAllChats}\n            data-tooltip-id=\"delete-all-tooltip\"\n            data-tooltip-content=\"Delete all chats\"\n          >\n            <Trash2 size={20} /> Delete All\n          </button>\n        </div>\n        \n        <div className=\"flex-1 overflow-y-auto pr-2 -mr-2 space-y-2\">\n          {chats.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <FileText size={40} className=\"mx-auto mb-4 text-gray-400\" />\n              <p className=\"text-gray-500 dark:text-gray-400 text-sm\">No chats yet. Upload a PDF to start!</p>\n            </div>\n          ) : (\n            [...chats]\n              .sort((a, b) => {\n                // First sort by favorite status\n                const aFavorited = favoritedChats.has(a.id);\n                const bFavorited = favoritedChats.has(b.id);\n                if (aFavorited && !bFavorited) return -1;\n                if (!aFavorited && bFavorited) return 1;\n                \n                // Then sort by creation date (newest first)\n                const aDate = new Date(a.created_at || 0);\n                const bDate = new Date(b.created_at || 0);\n                return bDate - aDate;\n              })\n              .map((chat) => (\n                <ChatItem\n                  key={chat.id}\n                  chat={chat}\n                  isSelected={currentChatId === chat.id}\n                  isFavorited={favoritedChats.has(chat.id)}\n                  onSelect={setCurrentChatId}\n                  onRename={(id, name) => {\n                    setRenamingChatId(id);\n                    setNewChatName(name);\n                  }}\n                  onFavorite={toggleFavorite}\n                  onDelete={handleDeleteChat}\n                  renamingChatId={renamingChatId}\n                  newChatName={newChatName}\n                  setNewChatName={setNewChatName}\n                />\n              ))\n          )}\n        </div>\n\n        {/* Tooltips */}\n        <Tooltip id=\"rename-tooltip\" place=\"top\" />\n        <Tooltip id=\"favorite-tooltip\" place=\"top\" />\n        <Tooltip id=\"delete-tooltip\" place=\"top\" />\n        <Tooltip id=\"sidebar-tooltip\" place=\"bottom\" />\n        <Tooltip id=\"new-chat-tooltip\" place=\"bottom\" />\n        <Tooltip id=\"delete-all-tooltip\" place=\"bottom\" />\n        <Tooltip id=\"upload-tooltip\" place=\"bottom\" />\n        <Tooltip id=\"theme-tooltip\" place=\"bottom\" />\n        <Tooltip id=\"preview-tooltip\" place=\"top\" />\n        <Tooltip id=\"remove-tooltip\" place=\"top\" />\n      </aside>\n\n      {/* Sidebar Overlay for mobile */}\n      {isSidebarOpen && (\n        <div \n          className=\"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden\"\n          onClick={toggleSidebar}\n        />\n      )}\n\n      {/* Main Chat Area */}\n      <main className={`\n        flex-1 flex flex-col transition-all duration-300 ease-in-out\n        ${isSidebarOpen ? 'md:ml-80' : 'ml-0'}\n        ${isSidebarOpen ? 'md:w-auto' : 'w-full'}\n        ${isSidebarOpen ? 'md:max-w-none' : 'max-w-full'}\n        ${isSidebarOpen ? 'md:relative' : 'md:relative'}\n      `}>\n        {/* Floating Sidebar Toggle Button - Only visible when sidebar is closed */}\n        {!isSidebarOpen && (\n          <div className=\"absolute top-4 left-4 z-50\">\n            <button\n              onClick={toggleSidebar}\n              className=\"btn-icon btn-icon-primary hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 shadow-lg\"\n              data-tooltip-id=\"sidebar-tooltip\"\n              data-tooltip-content=\"Open sidebar (Ctrl+B)\"\n            >\n              <Menu size={20} />\n            </button>\n          </div>\n        )}\n\n        {/* Dark Mode Toggle Button - Top Right */}\n        <div className=\"absolute top-4 right-4 z-50\">\n          <button\n            onClick={toggleDarkMode}\n            className=\"btn-icon btn-icon-primary hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 shadow-lg\"\n            data-tooltip-id=\"theme-tooltip\"\n            data-tooltip-content={isDarkMode ? \"Switch to light mode\" : \"Switch to dark mode\"}\n          >\n            {isDarkMode ? <Sun size={20} /> : <Moon size={20} />}\n          </button>\n        </div>\n\n        <div className={`flex-1 overflow-y-auto space-y-4 transition-all duration-300 ${isSidebarOpen ? 'md:max-w-none p-6' : 'max-w-full p-6 md:p-8 lg:p-12'}`}>\n          {currentChatId && (\n            <div className={`mb-6 transition-all duration-300 ${isSidebarOpen ? 'md:max-w-4xl md:mx-auto' : 'w-full'}`}>\n              <h3 className=\"text-lg font-semibold mb-2 flex items-center gap-2\">\n                <FileText size={20} className=\"text-accent-blue\" />\n                Attached PDFs\n              </h3>\n              {attachedPDFs.length === 0 ? (\n                <div\n                  className=\"flex flex-col items-center justify-center min-h-[220px] border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-900/40 p-8 transition-colors duration-200\"\n                  onDragOver={handleDragOver}\n                  onDrop={handleDrop}\n                  style={{ cursor: 'pointer' }}\n                  onClick={() => { if (mainFileInputRef.current) mainFileInputRef.current.click(); }}\n                >\n                  <FileUp size={40} className=\"mb-4 text-blue-400 dark:text-blue-500\" />\n                  <p className=\"text-base font-medium text-gray-700 dark:text-gray-200 mb-2\">Drag & drop PDF here</p>\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-primary px-6 py-2 mt-2 rounded-lg text-base font-semibold shadow-sm\"\n                    onClick={e => { e.stopPropagation(); if (mainFileInputRef.current) mainFileInputRef.current.click(); }}\n                  >\n                    Upload PDF\n                  </button>\n                </div>\n              ) : (\n                <div className=\"space-y-3\">\n                  <div className={`grid gap-3 ${isSidebarOpen ? 'md:grid-cols-1' : 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4'}`}>\n                    {attachedPDFs.map((file, idx) => (\n                      <div \n                        key={file.path || idx} \n                        className=\"group relative flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\"\n                      >\n                        <div className=\"flex items-center gap-3 min-w-0 flex-1\">\n                          <FileText size={20} className=\"text-accent-blue dark:text-accent-purple flex-shrink-0\" />\n                          <div className=\"min-w-0 flex-1\">\n                            <span className=\"text-sm font-medium truncate block\">{file.name}</span>\n                          </div>\n                        </div>\n                        <button \n                          onClick={() => handlePdfPreview(file.path)}\n                          className=\"btn-icon btn-icon-primary p-1.5 opacity-0 group-hover:opacity-100\"\n                          data-tooltip-id=\"preview-tooltip\"\n                          data-tooltip-content=\"Preview PDF\"\n                        >\n                          <Eye size={14} />\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                  <button\n                    onClick={() => { if (mainFileInputRef.current) mainFileInputRef.current.click(); }}\n                    className=\"btn btn-secondary text-sm flex items-center gap-2\"\n                  >\n                    <FileUp size={16} /> Add More\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n          {currentChatId ? (\n            messages.length > 0 ? (\n              <div className={`space-y-4 transition-all duration-300 ${isSidebarOpen ? 'md:max-w-4xl md:mx-auto' : 'w-full'}`}>\n                {messages.map((message, index) => (\n                  <div\n                    key={index}\n                    className={`chat-bubble ${\n                      message.role === 'user' ? 'chat-bubble-user' : 'chat-bubble-ai'\n                    }`}\n                  >\n                    <div className=\"flex items-start\">\n                      {message.role === 'user' ? (\n                        <MessageSquare size={20} className=\"mr-2 text-accent-blue\" />\n                      ) : (\n                        <Clock size={20} className=\"mr-2 text-accent-purple\" />\n                      )}\n                      <div>{message.content}</div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"flex items-center justify-center h-full text-text-secondary\">\n                <p>Start by asking a question about your PDF!</p>\n              </div>\n            )\n          ) : (\n            <div className=\"flex items-center justify-center h-full\">\n              <div className=\"text-center\">\n                <h2 className=\"text-2xl font-bold mb-4\">Welcome to Inquiero! 👋</h2>\n                <p className=\"text-text-secondary mb-8\">Upload a PDF to start asking questions</p>\n                <label \n                  className=\"file-upload-btn\"\n                  onDragOver={handleDragOver}\n                  onDrop={handleDrop}\n                >\n                  <FileUp size={20} className=\"mr-2\" /> Upload PDF\n                  <input\n                    type=\"file\"\n                    accept=\".pdf\"\n                    multiple\n                    onChange={handleFileUpload}\n                  />\n                </label>\n              </div>\n            </div>\n          )}\n          {showTyping && <TypingBubble />}\n          <div ref={messagesEndRef} />\n        </div>\n\n        {/* Persistent bottom panel for attached PDFs */}\n        {currentChatId && (\n          <div className=\"fixed bottom-20 left-0 right-0 z-30 flex justify-center\">\n            <div className=\"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg px-4 py-3 flex items-center gap-4 max-w-2xl w-full mx-4\">\n              <div className=\"flex-1\">\n                <div className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                  Attached Files ({attachedPDFs.length})\n                </div>\n                <div className=\"flex flex-wrap gap-2\">\n                  {attachedPDFs.length === 0 ? (\n                    <span className=\"text-gray-500 dark:text-gray-400 text-sm\">No PDFs attached yet</span>\n                  ) : (\n                    attachedPDFs.map((file, idx) => (\n                      <span key={file.path || idx} className=\"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 dark:bg-blue-900/30 rounded text-xs font-medium text-blue-700 dark:text-blue-200 border border-blue-200 dark:border-blue-700\">\n                        <FileText size={12} />\n                        {file.name}\n                      </span>\n                    ))\n                  )}\n                </div>\n              </div>\n              <button\n                className=\"btn btn-secondary btn-sm flex items-center gap-2 whitespace-nowrap\"\n                onClick={() => {\n                  if (mainFileInputRef.current) {\n                    mainFileInputRef.current.click();\n                  }\n                }}\n              >\n                <FileUp size={16} /> Upload More\n              </button>\n            </div>\n          </div>\n        )}\n\n        <form onSubmit={handleSendMessage} className={`border-t border-gray-200 dark:border-gray-700 transition-all duration-300 ${isSidebarOpen ? 'md:max-w-none p-4' : 'max-w-full p-4 md:p-6 lg:p-8'}`}>\n          <div className={`flex space-x-4 transition-all duration-300 ${isSidebarOpen ? 'md:max-w-4xl md:mx-auto' : 'w-full'}`}>\n            <input\n              type=\"text\"\n              value={question}\n              onChange={(e) => setQuestion(e.target.value)}\n              placeholder=\"Ask a question about your PDF...\"\n              className=\"input-field flex-1\"\n              disabled={loading || !currentChatId}\n            />\n            <button\n              type=\"submit\"\n              disabled={loading || !question.trim() || !currentChatId}\n              className=\"btn btn-primary flex-shrink-0\"\n            >\n              {loading ? <Clock size={20} className=\"animate-spin\" /> : <Send size={20} />}\n            </button>\n          </div>\n        </form>\n\n        {/* Hidden file input for main content area */}\n        <input\n          type=\"file\"\n          ref={mainFileInputRef}\n          accept=\".pdf\"\n          multiple\n          onChange={handleFileUpload}\n          className=\"hidden\"\n        />\n      </main>\n\n      {/* PDF Preview Modal */}\n      {showPdfModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl p-4 max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-xl font-bold\">PDF Preview</h3>\n              <button\n                onClick={() => setShowPdfModal(false)}\n                className=\"btn-icon btn-icon-secondary\"\n              >\n                <X size={24} />\n              </button>\n            </div>\n            <Document\n              file={pdfUrlToPreview}\n              onLoadSuccess={onDocumentLoadSuccess}\n              className=\"flex justify-center\"\n            >\n              <Page\n                pageNumber={pageNumber}\n                renderTextLayer={false}\n                renderAnnotationLayer={false}\n                className=\"shadow-soft\"\n              />\n            </Document>\n            <div className=\"flex justify-center mt-4 space-x-4\">\n              <button\n                onClick={() => setPageNumber(Math.max(1, pageNumber - 1))}\n                disabled={pageNumber <= 1}\n                className=\"btn btn-icon btn-icon-secondary\"\n              >\n                <ChevronLeft size={20} />\n              </button>\n              <span className=\"py-2\">\n                Page {pageNumber} of {numPages}\n              </span>\n              <button\n                onClick={() => setPageNumber(Math.min(numPages, pageNumber + 1))}\n                disabled={pageNumber >= numPages}\n                className=\"btn btn-icon btn-icon-secondary\"\n              >\n                <ChevronRight size={20} />\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}