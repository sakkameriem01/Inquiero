{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Downloads\\\\Inquiero\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { ToastContainer, toast, Slide } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport { Plus, Trash2, FileText, Send, Moon, Sun, ChevronLeft, ChevronRight, X, FileUp, Star, Edit, Menu, Copy, Check } from 'lucide-react';\nimport './styles/globals.css';\nimport { Tooltip } from 'react-tooltip';\nimport 'react-tooltip/dist/react-tooltip.css';\n\n// Configure react-pdf worker\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\npdfjs.GlobalWorkerOptions.workerSrc = '/pdf.worker.min.js';\nconst API_BASE_URL = 'http://localhost:8000'; // Assuming FastAPI runs on port 8000\n\nfunction getToastIcon(type) {\n  switch (type) {\n    case 'success':\n      return 'âœ…';\n    case 'error':\n      return 'âŒ';\n    case 'info':\n      return 'â„¹ï¸';\n    case 'warning':\n      return 'âš ï¸';\n    default:\n      return 'ðŸ””';\n  }\n}\nfunction TypingBubble() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-bubble chat-bubble-ai typing-bubble\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"typing-dots\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 35\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_c = TypingBubble;\nfunction ChatItem({\n  chat,\n  isSelected,\n  isFavorited,\n  onSelect,\n  onRename,\n  onFavorite,\n  onDelete,\n  renamingChatId,\n  newChatName,\n  setNewChatName,\n  setRenamingChatId\n}) {\n  const isRenaming = renamingChatId === chat.id;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `\n        group relative flex flex-col transition-all duration-200\n        ${isSelected ? 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800' : isFavorited ? 'bg-amber-50/50 dark:bg-amber-900/10 border-amber-200 dark:border-amber-800/50 hover:bg-amber-50 dark:hover:bg-amber-900/20' : 'bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50'}\n        border rounded-xl shadow-sm hover:shadow-md\n        cursor-pointer select-none\n        ${isFavorited ? 'ring-1 ring-amber-200 dark:ring-amber-800/50' : ''}\n      `,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between p-3\",\n      onClick: () => onSelect(chat.id),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3 min-w-0 flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0 relative\",\n          children: [isFavorited && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute -top-1 -right-1\",\n            children: /*#__PURE__*/_jsxDEV(Star, {\n              size: 12,\n              className: \"text-amber-400 fill-amber-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FileText, {\n            size: 18,\n            className: `\n                ${isSelected ? 'text-blue-600 dark:text-blue-400' : isFavorited ? 'text-amber-600 dark:text-amber-400' : 'text-gray-400 dark:text-gray-500'}\n                transition-colors duration-200\n              `\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"min-w-0 flex-1\",\n          children: isRenaming ? /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: newChatName,\n            onChange: e => setNewChatName(e.target.value),\n            onBlur: () => onRename(chat.id, newChatName),\n            onKeyPress: e => {\n              if (e.key === 'Enter') {\n                onRename(chat.id, newChatName);\n              }\n            },\n            className: `\n                  w-full px-2 py-1 text-sm rounded-md \n                  ${isFavorited ? 'border-amber-200 dark:border-amber-800 focus:ring-amber-500' : 'border-blue-200 dark:border-blue-800 focus:ring-blue-500'}\n                  bg-white dark:bg-gray-800 focus:ring-2 focus:border-transparent\n                  transition-all duration-200\n                `,\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `\n                text-sm font-medium truncate\n                ${isFavorited ? 'text-amber-700 dark:text-amber-300' : 'text-gray-700 dark:text-gray-200'}\n              `,\n            children: chat.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-tooltip-id\": \"rename-tooltip\",\n          \"data-tooltip-content\": \"Rename chat\",\n          onClick: e => {\n            e.stopPropagation();\n            setRenamingChatId(chat.id);\n            setNewChatName(chat.name);\n          },\n          className: `\n              p-1.5 rounded-lg transition-colors duration-200\n              ${isFavorited ? 'hover:bg-amber-100 dark:hover:bg-amber-900/30 text-amber-600 dark:text-amber-400' : 'hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200'}\n            `,\n          children: /*#__PURE__*/_jsxDEV(Edit, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-tooltip-id\": \"favorite-tooltip\",\n          \"data-tooltip-content\": isFavorited ? \"Remove from favorites\" : \"Add to favorites\",\n          onClick: e => {\n            e.stopPropagation();\n            onFavorite(chat.id);\n          },\n          className: `\n              p-1.5 rounded-lg transition-colors duration-200\n              ${isFavorited ? 'hover:bg-amber-100 dark:hover:bg-amber-900/30' : 'hover:bg-gray-100 dark:hover:bg-gray-700'}\n            `,\n          children: /*#__PURE__*/_jsxDEV(Star, {\n            size: 14,\n            className: isFavorited ? 'text-amber-400 fill-amber-400' : 'text-gray-400 dark:text-gray-500 hover:text-amber-400 dark:hover:text-amber-400'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-tooltip-id\": \"delete-tooltip\",\n          \"data-tooltip-content\": \"Delete chat\",\n          onClick: e => {\n            e.stopPropagation();\n            onDelete(chat.id);\n          },\n          className: `\n              p-1.5 rounded-lg transition-colors duration-200\n              ${isFavorited ? 'hover:bg-red-50 dark:hover:bg-red-900/30 text-amber-600/70 hover:text-red-500 dark:text-amber-400/70 dark:hover:text-red-400' : 'hover:bg-red-50 dark:hover:bg-red-900/30 text-gray-400 hover:text-red-500 dark:text-gray-500 dark:hover:text-red-400'}\n            `,\n          children: /*#__PURE__*/_jsxDEV(Trash2, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n// Custom Confirmation Dialog Component\n_c2 = ChatItem;\nfunction ConfirmationDialog({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message,\n  confirmText = \"Delete\",\n  cancelText = \"Cancel\",\n  type = \"danger\" // \"danger\", \"warning\", \"info\"\n}) {\n  if (!isOpen) return null;\n  const handleConfirm = () => {\n    onConfirm();\n    onClose();\n  };\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n  const getTypeStyles = () => {\n    switch (type) {\n      case \"danger\":\n        return {\n          icon: \"ðŸ—‘ï¸\",\n          confirmButton: \"bg-red-600 hover:bg-red-700 focus:ring-red-500\",\n          iconBg: \"bg-red-100 dark:bg-red-900/20\",\n          iconColor: \"text-red-600 dark:text-red-400\"\n        };\n      case \"warning\":\n        return {\n          icon: \"âš ï¸\",\n          confirmButton: \"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500\",\n          iconBg: \"bg-yellow-100 dark:bg-yellow-900/20\",\n          iconColor: \"text-yellow-600 dark:text-yellow-400\"\n        };\n      case \"info\":\n        return {\n          icon: \"â„¹ï¸\",\n          confirmButton: \"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500\",\n          iconBg: \"bg-blue-100 dark:bg-blue-900/20\",\n          iconColor: \"text-blue-600 dark:text-blue-400\"\n        };\n      default:\n        return {\n          icon: \"â“\",\n          confirmButton: \"bg-gray-600 hover:bg-gray-700 focus:ring-gray-500\",\n          iconBg: \"bg-gray-100 dark:bg-gray-900/20\",\n          iconColor: \"text-gray-600 dark:text-gray-400\"\n        };\n    }\n  };\n  const styles = getTypeStyles();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 confirmation-dialog-backdrop\",\n    onClick: handleBackdropClick,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full transform transition-all duration-200 scale-100 confirmation-dialog-content confirmation-dialog\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4 p-6 border-b border-gray-200 dark:border-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-3 rounded-full ${styles.iconBg}`,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-2xl\",\n            children: styles.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-900 dark:text-gray-100\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 dark:text-gray-300 leading-relaxed\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3 p-6 pt-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"flex-1\",\n          children: cancelText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleConfirm,\n          className: \"flex-1\",\n          children: confirmText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 277,\n    columnNumber: 5\n  }, this);\n}\n_c3 = ConfirmationDialog;\nfunction App() {\n  _s();\n  var _chats$find;\n  const [chats, setChats] = useState([]);\n  const [currentChatId, setCurrentChatId] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [question, setQuestion] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showPdfModal, setShowPdfModal] = useState(false);\n  const [pdfUrlToPreview, setPdfUrlToPreview] = useState(null);\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  const [showTyping, setShowTyping] = useState(false);\n  const typingTimeoutRef = useRef(null);\n  const messagesEndRef = useRef(null);\n  const mainFileInputRef = useRef(null);\n  const [favoritedChats, setFavoritedChats] = useState(new Set());\n  const [attachedPDFs, setAttachedPDFs] = useState([]);\n  const [userLanguage, setUserLanguage] = useState('en');\n\n  // Add a new state for the chat being renamed\n  const [renamingChatId, setRenamingChatId] = useState(null);\n  const [newChatName, setNewChatName] = useState('');\n\n  // Add state for copy button confirmation\n  const [copiedMessageIndex, setCopiedMessageIndex] = useState(null);\n\n  // Add state for message editing\n  const [editingMessageIndex, setEditingMessageIndex] = useState(null);\n  const [editingMessageText, setEditingMessageText] = useState('');\n\n  // Add state for confirmation dialogs\n  const [showDeleteChatDialog, setShowDeleteChatDialog] = useState(false);\n  const [showDeleteAllChatsDialog, setShowDeleteAllChatsDialog] = useState(false);\n  const [chatToDelete, setChatToDelete] = useState(null);\n\n  // Add state to track if this is a new chat for welcome message\n  const [isNewChat, setIsNewChat] = useState(false);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(() => {\n    const saved = localStorage.getItem('sidebarOpen');\n    return saved !== null ? JSON.parse(saved) : true;\n  });\n  const onDocumentLoadSuccess = ({\n    numPages\n  }) => {\n    setNumPages(numPages);\n    setPageNumber(1); // Reset to first page when new PDF loads\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  const handleFileUpload = async event => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // If we have a current chat, append to it; otherwise create new chat\n    await uploadFilesToChat(files, currentChatId);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const files = Array.from(e.dataTransfer.files).filter(file => file.type === 'application/pdf');\n    if (files.length > 0) {\n      const event = {\n        target: {\n          files\n        }\n      };\n      handleFileUpload(event);\n    }\n  };\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!question.trim() || !currentChatId) return;\n\n    // Detect user's language\n    try {\n      const response = await fetch(`${API_BASE_URL}/detect-language/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          text: question\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setUserLanguage(data.language);\n      }\n    } catch (e) {\n      console.error('Language detection failed:', e);\n    }\n    const userMessage = {\n      role: 'user',\n      content: question\n    };\n    setMessages(prevMessages => [...prevMessages, userMessage]);\n    setQuestion('');\n    setIsNewChat(false); // Set to false once user sends first message\n    setLoading(true);\n    setShowTyping(false);\n    if (typingTimeoutRef.current) clearTimeout(typingTimeoutRef.current);\n    typingTimeoutRef.current = setTimeout(() => setShowTyping(true), 300);\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/${currentChatId}/message/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          text: userMessage.content,\n          sender: 'user',\n          language: userLanguage\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n      }\n      const data = await response.json();\n      setMessages(prevMessages => [...prevMessages, {\n        role: 'assistant',\n        content: data.response\n      }]);\n      fetchChats();\n      toast.success(\"Answer generated! ðŸ’¬\");\n    } catch (e) {\n      setMessages(prevMessages => prevMessages.slice(0, prevMessages.length - 1)); // Remove user message if failed\n      toast.error(`Failed to generate answer: ${e.message} âš ï¸`);\n    } finally {\n      setLoading(false);\n      setShowTyping(false); // Hide typing animation when response is complete\n      if (typingTimeoutRef.current) {\n        clearTimeout(typingTimeoutRef.current);\n        typingTimeoutRef.current = null;\n      }\n    }\n  };\n  const handleDeleteChat = async chatId => {\n    // Find the chat to get its name for the dialog\n    const chat = chats.find(c => c.id === chatId);\n    setChatToDelete(chat);\n    setShowDeleteChatDialog(true);\n  };\n  const confirmDeleteChat = async () => {\n    if (!chatToDelete) return;\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/${chatToDelete.id}/`, {\n        method: 'DELETE'\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n      }\n      if (currentChatId === chatToDelete.id) {\n        setCurrentChatId(null);\n        setMessages([]);\n        setAttachedPDFs([]);\n      }\n      setChats(prevChats => prevChats.filter(chat => chat.id !== chatToDelete.id));\n      toast.success(\"Chat deleted successfully! ðŸ—‘ï¸\");\n    } catch (e) {\n      toast.error(`Failed to delete chat: ${e.message} âš ï¸`);\n    } finally {\n      setLoading(false);\n      setChatToDelete(null);\n    }\n  };\n  const handleDeleteAllChats = async () => {\n    setShowDeleteAllChatsDialog(true);\n  };\n  const handleRenameChat = async (chatId, newName) => {\n    if (!newName.trim()) {\n      setRenamingChatId(null);\n      setNewChatName('');\n      return;\n    }\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/${chatId}/rename/`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: newName.trim()\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n      }\n\n      // Update the chat name in the local state\n      setChats(prevChats => prevChats.map(chat => chat.id === chatId ? {\n        ...chat,\n        name: newName.trim()\n      } : chat));\n      toast.success(\"Chat renamed successfully! âœï¸\");\n    } catch (error) {\n      toast.error(`Failed to rename chat: ${error.message} âš ï¸`);\n      // Reset to original name on error\n      const originalChat = chats.find(c => c.id === chatId);\n      if (originalChat) {\n        setNewChatName(originalChat.name);\n      }\n    } finally {\n      setRenamingChatId(null);\n      setNewChatName('');\n    }\n  };\n  const confirmDeleteAllChats = async () => {\n    setLoading(true);\n    try {\n      console.log(\"Sending delete all chats request...\");\n      const response = await fetch(`${API_BASE_URL}/chats/all/`, {\n        method: 'DELETE'\n      });\n      console.log(\"Delete all chats response status:\", response.status);\n      if (!response.ok) {\n        const errorData = await response.json();\n        console.error(\"Delete all chats error:\", errorData);\n        throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n      }\n      const result = await response.json();\n      console.log(\"Delete all chats success:\", result);\n      setCurrentChatId(null);\n      setChats([]);\n      setMessages([]);\n      setAttachedPDFs([]);\n      toast.success(\"All chats deleted! ðŸ—‘ï¸\");\n\n      // Refresh the chat list to ensure UI is updated\n      await fetchChats();\n    } catch (e) {\n      console.error(\"Delete all chats failed:\", e);\n      toast.error(`Failed to delete all chats: ${e.message} âš ï¸`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handlePdfPreview = pdfPath => {\n    if (!pdfPath) {\n      toast.error(\"PDF path is not available.\");\n      return;\n    }\n    try {\n      // Extract the filename from the full path\n      const filename = pdfPath.split('/').pop() || pdfPath.split('\\\\').pop();\n      if (!filename) {\n        toast.error(\"Invalid PDF path.\");\n        return;\n      }\n      const pdfUrl = `${API_BASE_URL}/pdf/${filename}`;\n      setPdfUrlToPreview(pdfUrl);\n      setShowPdfModal(true);\n    } catch (error) {\n      console.error(\"Error constructing PDF URL:\", error);\n      toast.error(\"Failed to preview PDF.\");\n    }\n  };\n  const toggleDarkMode = () => {\n    setIsDarkMode(!isDarkMode);\n    document.documentElement.classList.toggle('dark');\n  };\n  const toggleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n    localStorage.setItem('sidebarOpen', JSON.stringify(!isSidebarOpen));\n  };\n  const handleRemoveFile = async filePathToRemove => {\n    if (!currentChatId) return;\n    const originalFiles = [...attachedPDFs];\n    setAttachedPDFs(prev => prev.filter(file => file.path !== filePathToRemove));\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/${currentChatId}/pdfs`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          pdf_path: filePathToRemove\n        })\n      });\n      if (!response.ok) {\n        toast.error(\"Failed to remove file. Reverting changes.\");\n        setAttachedPDFs(originalFiles);\n      } else {\n        toast.success(\"File removed successfully.\");\n      }\n    } catch (error) {\n      toast.error(\"An error occurred. Reverting changes.\");\n      setAttachedPDFs(originalFiles);\n    }\n  };\n  const handleCopy = (text, messageIndex) => {\n    navigator.clipboard.writeText(text).then(() => {\n      // Set the confirmation state for this specific message\n      setCopiedMessageIndex(messageIndex);\n\n      // Reset the confirmation state after 2.5 seconds\n      setTimeout(() => {\n        setCopiedMessageIndex(null);\n      }, 2500);\n      toast.success(\"Copied to clipboard!\");\n    }, err => {\n      toast.error(\"Failed to copy text.\");\n      console.error('Could not copy text: ', err);\n    });\n  };\n  const handleEditMessage = (messageIndex, currentText) => {\n    setEditingMessageIndex(messageIndex);\n    setEditingMessageText(currentText);\n  };\n  const handleSaveEdit = async messageIndex => {\n    if (!editingMessageText.trim()) {\n      toast.error(\"Message cannot be empty.\");\n      return;\n    }\n    try {\n      // Update the message in local state\n      setMessages(prevMessages => prevMessages.map((msg, index) => index === messageIndex ? {\n        ...msg,\n        content: editingMessageText.trim()\n      } : msg));\n\n      // TODO: Send update to backend if needed\n      // For now, we'll just update the local state\n\n      toast.success(\"Message updated successfully! âœï¸\");\n    } catch (error) {\n      toast.error(\"Failed to update message.\");\n      console.error(\"Error updating message:\", error);\n    } finally {\n      setEditingMessageIndex(null);\n      setEditingMessageText('');\n    }\n  };\n  const handleCancelEdit = () => {\n    setEditingMessageIndex(null);\n    setEditingMessageText('');\n  };\n  const handleKeyDown = event => {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      handleSendMessage(event);\n    }\n  };\n\n  // Keyboard shortcut to toggle sidebar (Ctrl/Cmd + B)\n  useEffect(() => {\n    const handleGlobalKeyDown = event => {\n      if ((event.ctrlKey || event.metaKey) && event.key === 'b') {\n        event.preventDefault();\n        toggleSidebar();\n      }\n    };\n    document.addEventListener('keydown', handleGlobalKeyDown);\n    return () => document.removeEventListener('keydown', handleGlobalKeyDown);\n  }, [isSidebarOpen, toggleSidebar]);\n  const toggleFavorite = chatId => {\n    setFavoritedChats(prev => {\n      const newFavorited = new Set(prev);\n      if (newFavorited.has(chatId)) {\n        newFavorited.delete(chatId);\n      } else {\n        newFavorited.add(chatId);\n      }\n      return newFavorited;\n    });\n  };\n  const handleSelectChat = chatId => {\n    if (chatId === currentChatId) return;\n    setCurrentChatId(chatId);\n    setIsNewChat(false); // Set to false for existing chat\n    fetchChatMessages(chatId);\n  };\n  const uploadFilesToChat = async (files, targetChatId = null) => {\n    let finalChatId = targetChatId;\n\n    // If no targetChatId is provided, and there's no active chat, create a new one.\n    if (!finalChatId && !currentChatId) {\n      const newChatData = await createNewChat();\n      if (newChatData) {\n        finalChatId = newChatData.id;\n        setCurrentChatId(newChatData.id); // Set the new chat as active\n        setIsNewChat(true); // Set to true for new chat\n      } else {\n        toast.error(\"Could not create a new chat session.\");\n        return;\n      }\n    } else if (!finalChatId && currentChatId) {\n      // If there is an active chat, use its ID.\n      finalChatId = currentChatId;\n    }\n    if (files.length === 0) {\n      // If no files are being uploaded, we just wanted to create a new chat.\n      if (!targetChatId) fetchChats();\n      return;\n    }\n    setLoading(true);\n    toast.info(`Uploading and processing ${files.length} PDF(s)...`);\n    const formData = new FormData();\n    files.forEach(file => {\n      formData.append('file', file);\n    });\n\n    // Important: FormData sends chat_id as a separate part.\n    if (finalChatId) {\n      formData.append('chat_id', finalChatId);\n    }\n    try {\n      const response = await fetch(`${API_BASE_URL}/upload-pdf/`, {\n        method: 'POST',\n        body: formData // No 'Content-Type' header needed for FormData\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n      }\n      const result = await response.json();\n\n      // After upload, fetch the latest state of the chat.\n      await fetchChatMessages(finalChatId);\n      await fetchChats(); // Update the list of chats on the sidebar\n\n      toast.success(`${files.length} PDF${files.length > 1 ? 's' : ''} processed successfully! âœ…`);\n    } catch (e) {\n      toast.error(`PDF upload failed: ${e.message} âŒ`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchChats();\n  }, []);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  useEffect(() => {\n    // Check for saved theme preference\n    const savedTheme = localStorage.getItem('theme');\n    if (savedTheme === 'dark') {\n      setIsDarkMode(true);\n      document.documentElement.classList.add('dark');\n    }\n  }, []);\n  useEffect(() => {\n    return () => {\n      if (typingTimeoutRef.current) clearTimeout(typingTimeoutRef.current);\n    };\n  }, []);\n  const fetchChats = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data && Array.isArray(data.chats)) {\n        setChats(data.chats);\n      } else {\n        setChats([]);\n        console.warn('Received invalid chat data format:', data);\n      }\n    } catch (e) {\n      setChats([]); // Clear chats on error\n    }\n  };\n  const fetchChatMessages = async chatId => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/${chatId}/`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data && Array.isArray(data.messages)) {\n        setMessages(data.messages);\n        // Load associated PDFs\n        if (data.pdf_paths) {\n          setAttachedPDFs(data.pdf_paths.map((path, index) => {\n            var _data$pdf_names;\n            return {\n              path: path,\n              name: ((_data$pdf_names = data.pdf_names) === null || _data$pdf_names === void 0 ? void 0 : _data$pdf_names[index]) || path.split('/').pop(),\n              language: data.language || 'en'\n            };\n          }));\n        }\n      } else {\n        setMessages([]);\n        setAttachedPDFs([]);\n        console.warn('Received invalid chat message data format:', data);\n      }\n    } catch (e) {\n      setMessages([]); // Clear messages on error\n      setAttachedPDFs([]); // Clear PDFs on error\n      toast.error(`Failed to load chat: ${e.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const createNewChat = async () => {\n    try {\n      // Assuming you have an endpoint to create a new, empty chat\n      const response = await fetch(`${API_BASE_URL}/chats`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({}) // No initial data needed\n      });\n      if (!response.ok) throw new Error('Failed to create chat');\n      const newChat = await response.json();\n      setChats(prev => [newChat, ...prev]);\n      setCurrentChatId(newChat.id);\n      setMessages([]);\n      setAttachedPDFs([]);\n      setIsNewChat(true); // Set to true for new chat\n      return newChat;\n    } catch (error) {\n      toast.error(\"Failed to create a new chat.\");\n      return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex h-screen bg-background-light dark:bg-background-dark text-text-primary-light dark:text-text-primary-dark transition-colors duration-200 ${!isSidebarOpen ? 'sidebar-closed' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n      id: \"delete-all-tooltip\",\n      place: \"bottom\",\n      delayShow: 300,\n      delayHide: 100\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 904,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      id: \"new-chat-tooltip\",\n      place: \"bottom\",\n      delayShow: 300,\n      delayHide: 100\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 905,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      id: \"rename-tooltip\",\n      place: \"bottom\",\n      delayShow: 300,\n      delayHide: 100\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 906,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      id: \"favorite-tooltip\",\n      place: \"bottom\",\n      delayShow: 300,\n      delayHide: 100\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 907,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      id: \"delete-tooltip\",\n      place: \"bottom\",\n      delayShow: 300,\n      delayHide: 100\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 908,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      id: \"sidebar-tooltip\",\n      place: \"bottom\",\n      delayShow: 300,\n      delayHide: 100\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 909,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      id: \"upload-tooltip\",\n      place: \"bottom\",\n      delayShow: 300,\n      delayHide: 100\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 910,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      id: \"remove-file-tooltip\",\n      place: \"top\",\n      delayShow: 300,\n      delayHide: 100\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 911,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      id: \"copy-tooltip\",\n      place: \"top\",\n      delayShow: 300,\n      delayHide: 100\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 912,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"bottom-right\",\n      autoClose: 4000,\n      hideProgressBar: false,\n      newestOnTop: true,\n      closeOnClick: true,\n      rtl: false,\n      pauseOnFocusLoss: true,\n      draggable: true,\n      pauseOnHover: true,\n      theme: isDarkMode ? \"dark\" : \"light\",\n      limit: 4,\n      transition: Slide,\n      icon: ({\n        type\n      }) => getToastIcon(type),\n      toastClassName: \"!font-sans\",\n      bodyClassName: \"!font-sans\",\n      progressClassName: \"!bg-gradient-to-r !from-purple-500 !to-blue-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 913,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col flex-1 h-full bg-gray-100 dark:bg-gray-900 transition-all duration-300\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-2 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleSidebar,\n          className: \"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700\",\n          \"data-tooltip-id\": \"sidebar-tooltip\",\n          \"data-tooltip-content\": isSidebarOpen ? \"Collapse Sidebar\" : \"Expand Sidebar\",\n          children: /*#__PURE__*/_jsxDEV(Menu, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 941,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 935,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-2xl font-extrabold tracking-wide gradient-text\",\n          children: \"Inquiero\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 943,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleDarkMode,\n          className: \"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700\",\n          children: isDarkMode ? /*#__PURE__*/_jsxDEV(Sun, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 945,\n            columnNumber: 27\n          }, this) : /*#__PURE__*/_jsxDEV(Moon, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 945,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 944,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 934,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `\n            ${isSidebarOpen ? 'w-80' : 'w-0'}\n            bg-white dark:bg-gray-800/50 border-r border-gray-200 dark:border-gray-700\n            transition-all duration-300 overflow-hidden flex flex-col\n          `,\n          children: isSidebarOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 flex-1 flex flex-col overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-bold text-gray-800 dark:text-gray-100\",\n                children: \"Chats\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 960,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleDeleteAllChats,\n                  className: \"btn-icon btn-icon-danger\",\n                  \"data-tooltip-id\": \"delete-all-tooltip\",\n                  \"data-tooltip-content\": \"Delete All Chats\",\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 968,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 962,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => uploadFilesToChat([]),\n                  className: \"btn-icon btn-icon-primary\",\n                  \"data-tooltip-id\": \"new-chat-tooltip\",\n                  \"data-tooltip-content\": \"New Chat\",\n                  children: /*#__PURE__*/_jsxDEV(Plus, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 976,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 970,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 961,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 959,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 overflow-y-auto pr-1 -mr-1 space-y-2\",\n              children: [favoritedChats.size > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2\",\n                  children: \"Favorites\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 983,\n                  columnNumber: 23\n                }, this), chats.filter(chat => favoritedChats.has(chat.id)).map(chat => /*#__PURE__*/_jsxDEV(ChatItem, {\n                  chat: chat,\n                  isSelected: currentChatId === chat.id,\n                  isFavorited: true,\n                  onSelect: handleSelectChat,\n                  onRename: handleRenameChat,\n                  onFavorite: toggleFavorite,\n                  onDelete: handleDeleteChat,\n                  renamingChatId: renamingChatId,\n                  newChatName: newChatName,\n                  setNewChatName: setNewChatName,\n                  setRenamingChatId: setRenamingChatId\n                }, chat.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 987,\n                  columnNumber: 27\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 982,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2\",\n                children: \"Recent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1005,\n                columnNumber: 19\n              }, this), chats.filter(chat => !favoritedChats.has(chat.id)).map(chat => /*#__PURE__*/_jsxDEV(ChatItem, {\n                chat: chat,\n                isSelected: currentChatId === chat.id,\n                isFavorited: false,\n                onSelect: handleSelectChat,\n                onRename: handleRenameChat,\n                onFavorite: toggleFavorite,\n                onDelete: handleDeleteChat,\n                renamingChatId: renamingChatId,\n                newChatName: newChatName,\n                setNewChatName: setNewChatName,\n                setRenamingChatId: setRenamingChatId\n              }, chat.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1009,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 980,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 958,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 952,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col flex-1 h-full overflow-hidden\",\n          children: currentChatId ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800/50 flex-shrink-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-gray-800 dark:text-gray-100 truncate\",\n                children: ((_chats$find = chats.find(c => c.id === currentChatId)) === null || _chats$find === void 0 ? void 0 : _chats$find.name) || 'Chat'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1035,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => mainFileInputRef.current.click(),\n                  className: \"flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 dark:bg-purple-500 dark:hover:bg-purple-600 transition-colors\",\n                  \"data-tooltip-id\": \"upload-tooltip\",\n                  \"data-tooltip-content\": \"Upload more files to this chat\",\n                  children: [/*#__PURE__*/_jsxDEV(FileUp, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1045,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Upload More\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1046,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1039,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1038,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1034,\n              columnNumber: 17\n            }, this), attachedPDFs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 flex-wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-gray-600 dark:text-gray-300 mr-2\",\n                  children: [\"Attached Files (\", attachedPDFs.length, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1055,\n                  columnNumber: 23\n                }, this), attachedPDFs.map((pdf, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"group relative flex items-center bg-blue-100/50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-full text-xs\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handlePdfPreview(pdf.path),\n                    className: \"flex items-center gap-1.5 pl-3 pr-2 py-1 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-l-full\",\n                    children: [/*#__PURE__*/_jsxDEV(FileText, {\n                      size: 12\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1062,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"truncate max-w-xs\",\n                      children: pdf.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1063,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1058,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRemoveFile(pdf.path),\n                    className: \"p-1 rounded-full hover:bg-red-200 dark:hover:bg-red-900/50 text-red-500 opacity-50 group-hover:opacity-100 transition-opacity\",\n                    \"data-tooltip-id\": \"remove-file-tooltip\",\n                    \"data-tooltip-content\": `Remove ${pdf.name}`,\n                    children: /*#__PURE__*/_jsxDEV(X, {\n                      size: 12\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1071,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1065,\n                    columnNumber: 27\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1057,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1054,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1053,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 overflow-y-auto p-4 md:p-6 space-y-6\",\n              children: [isNewChat && messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chat-bubble chat-bubble-ai\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"chat-bubble-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-lg font-semibold mb-2\",\n                      children: \"\\uD83D\\uDC4B Welcome to Inquiero!\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1086,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"mb-3\",\n                      children: \"I'm here to help you analyze and understand your PDF documents. You can ask me questions about:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1087,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                      className: \"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-300 mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                        children: \"Specific content within your documents\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1089,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: \"Summaries and key points\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1090,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: \"Data analysis and insights\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1091,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: \"Comparisons between different sections\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1092,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: \"Definitions and explanations\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1093,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1088,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 dark:text-gray-300\",\n                      children: \"Just type your question below and I'll help you find the information you need!\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1095,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1085,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1084,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1083,\n                columnNumber: 21\n              }, this), messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `chat-bubble ${msg.role === 'user' ? 'chat-bubble-user' : 'chat-bubble-ai'}`,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"chat-bubble-content\",\n                    children: typeof msg.content === 'string' ? msg.content.split('\\\\n').map((line, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: line\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1107,\n                      columnNumber: 31\n                    }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: JSON.stringify(msg.content)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1110,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1104,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1103,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'} mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200`,\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: e => {\n                      e.stopPropagation();\n                      handleCopy(msg.content, index);\n                    },\n                    className: `px-3 py-1.5 rounded-lg transition-all duration-200 text-sm font-medium ${copiedMessageIndex === index ? 'text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-400' : 'text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-700 dark:hover:text-gray-200'}`,\n                    \"data-tooltip-id\": \"copy-tooltip\",\n                    \"data-tooltip-content\": copiedMessageIndex === index ? \"Copied!\" : \"Copy message\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-1.5\",\n                      children: copiedMessageIndex === index ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(Check, {\n                          size: 14\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1132,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Copied!\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1133,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true) : /*#__PURE__*/_jsxDEV(Copy, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1136,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1129,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1116,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1115,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1102,\n                columnNumber: 21\n              }, this)), showTyping && /*#__PURE__*/_jsxDEV(TypingBubble, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1143,\n                columnNumber: 34\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: messagesEndRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1144,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1080,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800/50\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSendMessage,\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: question,\n                  onChange: e => setQuestion(e.target.value),\n                  onKeyDown: handleKeyDown,\n                  placeholder: \"Ask a question about your document...\",\n                  className: \"w-full pl-4 pr-12 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none\",\n                  rows: \"1\",\n                  style: {\n                    minHeight: '52px',\n                    maxHeight: '200px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1150,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  disabled: loading,\n                  className: \"absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-full bg-purple-600 text-white hover:bg-purple-700 disabled:bg-purple-300 dark:disabled:bg-purple-800\",\n                  children: /*#__PURE__*/_jsxDEV(Send, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1164,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1159,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1149,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1148,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) :\n          /*#__PURE__*/\n          // Welcome Screen / Initial State\n          _jsxDEV(\"div\", {\n            className: \"flex flex-col items-center justify-center h-full text-center text-gray-500 dark:text-gray-400 p-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col items-center justify-center w-full max-w-lg min-h-[400px] border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-2xl bg-white dark:bg-gray-800/20 p-8 transition-colors duration-200 hover:border-purple-400 dark:hover:border-purple-500 hover:bg-gray-50 dark:hover:bg-gray-800/40 cursor-pointer\",\n              onDragOver: handleDragOver,\n              onDrop: handleDrop,\n              onClick: () => mainFileInputRef.current.click(),\n              children: [/*#__PURE__*/_jsxDEV(FileUp, {\n                size: 50,\n                className: \"mb-4 text-purple-400 dark:text-purple-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1178,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2\",\n                children: \"Drop your PDF here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1179,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 dark:text-gray-300\",\n                children: \"or click to browse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1180,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1172,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1171,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1030,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 950,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 932,\n      columnNumber: 7\n    }, this), showPdfModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-900 dark:text-gray-100\",\n            children: \"PDF Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowPdfModal(false),\n            className: \"p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1198,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1194,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1192,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: /*#__PURE__*/_jsxDEV(Document, {\n            file: pdfUrlToPreview,\n            onLoadSuccess: onDocumentLoadSuccess,\n            className: \"flex justify-center\",\n            children: /*#__PURE__*/_jsxDEV(Page, {\n              pageNumber: pageNumber,\n              renderTextLayer: false,\n              renderAnnotationLayer: false,\n              className: \"shadow-lg rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1207,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1202,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1201,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center gap-4 p-6 border-t border-gray-200 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setPageNumber(Math.max(1, pageNumber - 1)),\n            disabled: pageNumber <= 1,\n            className: \"p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1221,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1216,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg\",\n            children: [\"Page \", pageNumber, \" of \", numPages]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1223,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setPageNumber(Math.min(numPages, pageNumber + 1)),\n            disabled: pageNumber >= numPages,\n            className: \"p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1231,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1226,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1215,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1191,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1190,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmationDialog, {\n      isOpen: showDeleteChatDialog,\n      onClose: () => {\n        setShowDeleteChatDialog(false);\n        setChatToDelete(null);\n      },\n      onConfirm: confirmDeleteChat,\n      title: \"Delete Chat\",\n      message: `Are you sure you want to delete \"${(chatToDelete === null || chatToDelete === void 0 ? void 0 : chatToDelete.name) || 'this chat'}\"? This action cannot be undone.`,\n      confirmText: \"Delete Chat\",\n      cancelText: \"Cancel\",\n      type: \"danger\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1239,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmationDialog, {\n      isOpen: showDeleteAllChatsDialog,\n      onClose: () => setShowDeleteAllChatsDialog(false),\n      onConfirm: confirmDeleteAllChats,\n      title: \"Delete All Chats\",\n      message: \"Are you sure you want to delete ALL chats? This action cannot be undone and will permanently remove all your conversations and uploaded files.\",\n      confirmText: \"Delete All\",\n      cancelText: \"Cancel\",\n      type: \"danger\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1253,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      ref: mainFileInputRef,\n      accept: \".pdf\",\n      multiple: true,\n      onChange: handleFileUpload,\n      className: \"hidden\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1264,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 903,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"VUV3hh2Rg3hTxI7k39K7GDtM0qo=\");\n_c4 = App;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"TypingBubble\");\n$RefreshReg$(_c2, \"ChatItem\");\n$RefreshReg$(_c3, \"ConfirmationDialog\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","ToastContainer","toast","Slide","Document","Page","pdfjs","Plus","Trash2","FileText","Send","Moon","Sun","ChevronLeft","ChevronRight","X","FileUp","Star","Edit","Menu","Copy","Check","Tooltip","jsxDEV","_jsxDEV","Fragment","_Fragment","GlobalWorkerOptions","workerSrc","API_BASE_URL","getToastIcon","type","TypingBubble","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","ChatItem","chat","isSelected","isFavorited","onSelect","onRename","onFavorite","onDelete","renamingChatId","newChatName","setNewChatName","setRenamingChatId","isRenaming","id","onClick","size","value","onChange","e","target","onBlur","onKeyPress","key","autoFocus","name","stopPropagation","_c2","ConfirmationDialog","isOpen","onClose","onConfirm","title","message","confirmText","cancelText","handleConfirm","handleBackdropClick","currentTarget","getTypeStyles","icon","confirmButton","iconBg","iconColor","styles","_c3","App","_s","_chats$find","chats","setChats","currentChatId","setCurrentChatId","messages","setMessages","question","setQuestion","loading","setLoading","showPdfModal","setShowPdfModal","pdfUrlToPreview","setPdfUrlToPreview","numPages","setNumPages","pageNumber","setPageNumber","isDarkMode","setIsDarkMode","showTyping","setShowTyping","typingTimeoutRef","messagesEndRef","mainFileInputRef","favoritedChats","setFavoritedChats","Set","attachedPDFs","setAttachedPDFs","userLanguage","setUserLanguage","copiedMessageIndex","setCopiedMessageIndex","editingMessageIndex","setEditingMessageIndex","editingMessageText","setEditingMessageText","showDeleteChatDialog","setShowDeleteChatDialog","showDeleteAllChatsDialog","setShowDeleteAllChatsDialog","chatToDelete","setChatToDelete","isNewChat","setIsNewChat","isSidebarOpen","setIsSidebarOpen","saved","localStorage","getItem","JSON","parse","onDocumentLoadSuccess","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleFileUpload","event","files","Array","from","length","uploadFilesToChat","handleDragOver","preventDefault","handleDrop","dataTransfer","filter","file","handleSendMessage","trim","response","fetch","method","headers","body","stringify","text","ok","data","json","language","console","error","userMessage","role","content","prevMessages","clearTimeout","setTimeout","sender","errorData","Error","status","detail","statusText","fetchChats","success","slice","handleDeleteChat","chatId","find","c","confirmDeleteChat","prevChats","handleDeleteAllChats","handleRenameChat","newName","map","originalChat","confirmDeleteAllChats","log","result","handlePdfPreview","pdfPath","filename","split","pop","pdfUrl","toggleDarkMode","document","documentElement","classList","toggle","toggleSidebar","setItem","handleRemoveFile","filePathToRemove","originalFiles","prev","path","pdf_path","handleCopy","messageIndex","navigator","clipboard","writeText","then","err","handleEditMessage","currentText","handleSaveEdit","msg","index","handleCancelEdit","handleKeyDown","shiftKey","handleGlobalKeyDown","ctrlKey","metaKey","addEventListener","removeEventListener","toggleFavorite","newFavorited","has","delete","add","handleSelectChat","fetchChatMessages","targetChatId","finalChatId","newChatData","createNewChat","info","formData","FormData","forEach","append","savedTheme","isArray","warn","pdf_paths","_data$pdf_names","pdf_names","newChat","place","delayShow","delayHide","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","theme","limit","transition","toastClassName","bodyClassName","progressClassName","click","pdf","line","i","ref","onSubmit","onKeyDown","placeholder","rows","style","minHeight","maxHeight","disabled","onDragOver","onDrop","onLoadSuccess","renderTextLayer","renderAnnotationLayer","Math","max","min","accept","multiple","_c4","$RefreshReg$"],"sources":["C:/Users/LENOVO/Downloads/Inquiero/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { ToastContainer, toast, Slide } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport {\n  Plus,\n  Trash2,\n  FileText,\n  Send,\n  Moon,\n  Sun,\n  ChevronLeft,\n  ChevronRight,\n  X,\n  FileUp,\n  Star,\n  Edit,\n  Menu,\n  Copy,\n  Check,\n} from 'lucide-react';\nimport './styles/globals.css';\nimport { Tooltip } from 'react-tooltip';\nimport 'react-tooltip/dist/react-tooltip.css';\n\n// Configure react-pdf worker\npdfjs.GlobalWorkerOptions.workerSrc = '/pdf.worker.min.js';\n\nconst API_BASE_URL = 'http://localhost:8000'; // Assuming FastAPI runs on port 8000\n\nfunction getToastIcon(type) {\n  switch (type) {\n    case 'success':\n      return 'âœ…';\n    case 'error':\n      return 'âŒ';\n    case 'info':\n      return 'â„¹ï¸';\n    case 'warning':\n      return 'âš ï¸';\n    default:\n      return 'ðŸ””';\n  }\n}\n\nfunction TypingBubble() {\n  return (\n    <div className=\"chat-bubble chat-bubble-ai typing-bubble\">\n      <div className=\"typing-dots\">\n        <span></span><span></span><span></span>\n      </div>\n    </div>\n  );\n}\n\nfunction ChatItem({ \n  chat, \n  isSelected, \n  isFavorited, \n  onSelect, \n  onRename, \n  onFavorite, \n  onDelete, \n  renamingChatId, \n  newChatName, \n  setNewChatName,\n  setRenamingChatId\n}) {\n  const isRenaming = renamingChatId === chat.id;\n\n  return (\n    <div \n      className={`\n        group relative flex flex-col transition-all duration-200\n        ${isSelected \n          ? 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800' \n          : isFavorited\n            ? 'bg-amber-50/50 dark:bg-amber-900/10 border-amber-200 dark:border-amber-800/50 hover:bg-amber-50 dark:hover:bg-amber-900/20'\n            : 'bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50'\n        }\n        border rounded-xl shadow-sm hover:shadow-md\n        cursor-pointer select-none\n        ${isFavorited ? 'ring-1 ring-amber-200 dark:ring-amber-800/50' : ''}\n      `}\n    >\n      <div \n        className=\"flex items-center justify-between p-3\"\n        onClick={() => onSelect(chat.id)}\n      >\n        <div className=\"flex items-center gap-3 min-w-0 flex-1\">\n          <div className=\"flex-shrink-0 relative\">\n            {isFavorited && (\n              <div className=\"absolute -top-1 -right-1\">\n                <Star \n                  size={12} \n                  className=\"text-amber-400 fill-amber-400\" \n                />\n              </div>\n            )}\n            <FileText \n              size={18} \n              className={`\n                ${isSelected \n                  ? 'text-blue-600 dark:text-blue-400' \n                  : isFavorited\n                    ? 'text-amber-600 dark:text-amber-400'\n                    : 'text-gray-400 dark:text-gray-500'\n                }\n                transition-colors duration-200\n              `} \n            />\n          </div>\n          <div className=\"min-w-0 flex-1\">\n            {isRenaming ? (\n              <input\n                type=\"text\"\n                value={newChatName}\n                onChange={(e) => setNewChatName(e.target.value)}\n                onBlur={() => onRename(chat.id, newChatName)}\n                onKeyPress={(e) => {\n                  if (e.key === 'Enter') {\n                    onRename(chat.id, newChatName);\n                  }\n                }}\n                className={`\n                  w-full px-2 py-1 text-sm rounded-md \n                  ${isFavorited \n                    ? 'border-amber-200 dark:border-amber-800 focus:ring-amber-500' \n                    : 'border-blue-200 dark:border-blue-800 focus:ring-blue-500'\n                  }\n                  bg-white dark:bg-gray-800 focus:ring-2 focus:border-transparent\n                  transition-all duration-200\n                `}\n                autoFocus\n              />\n            ) : (\n              <p className={`\n                text-sm font-medium truncate\n                ${isFavorited \n                  ? 'text-amber-700 dark:text-amber-300' \n                  : 'text-gray-700 dark:text-gray-200'\n                }\n              `}>\n                {chat.name}\n              </p>\n            )}\n          </div>\n        </div>\n        \n        <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200\">\n          <button\n            data-tooltip-id=\"rename-tooltip\"\n            data-tooltip-content=\"Rename chat\"\n            onClick={(e) => {\n              e.stopPropagation();\n              setRenamingChatId(chat.id);\n              setNewChatName(chat.name);\n            }}\n            className={`\n              p-1.5 rounded-lg transition-colors duration-200\n              ${isFavorited\n                ? 'hover:bg-amber-100 dark:hover:bg-amber-900/30 text-amber-600 dark:text-amber-400'\n                : 'hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200'\n              }\n            `}\n          >\n            <Edit size={14} />\n          </button>\n          \n          <button\n            data-tooltip-id=\"favorite-tooltip\"\n            data-tooltip-content={isFavorited ? \"Remove from favorites\" : \"Add to favorites\"}\n            onClick={(e) => {\n              e.stopPropagation();\n              onFavorite(chat.id);\n            }}\n            className={`\n              p-1.5 rounded-lg transition-colors duration-200\n              ${isFavorited\n                ? 'hover:bg-amber-100 dark:hover:bg-amber-900/30'\n                : 'hover:bg-gray-100 dark:hover:bg-gray-700'\n              }\n            `}\n          >\n            <Star \n              size={14} \n              className={isFavorited \n                ? 'text-amber-400 fill-amber-400' \n                : 'text-gray-400 dark:text-gray-500 hover:text-amber-400 dark:hover:text-amber-400'\n              } \n            />\n          </button>\n          \n          <button\n            data-tooltip-id=\"delete-tooltip\"\n            data-tooltip-content=\"Delete chat\"\n            onClick={(e) => {\n              e.stopPropagation();\n              onDelete(chat.id);\n            }}\n            className={`\n              p-1.5 rounded-lg transition-colors duration-200\n              ${isFavorited\n                ? 'hover:bg-red-50 dark:hover:bg-red-900/30 text-amber-600/70 hover:text-red-500 dark:text-amber-400/70 dark:hover:text-red-400'\n                : 'hover:bg-red-50 dark:hover:bg-red-900/30 text-gray-400 hover:text-red-500 dark:text-gray-500 dark:hover:text-red-400'\n              }\n            `}\n          >\n            <Trash2 size={14} />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Custom Confirmation Dialog Component\nfunction ConfirmationDialog({ \n  isOpen, \n  onClose, \n  onConfirm, \n  title, \n  message, \n  confirmText = \"Delete\", \n  cancelText = \"Cancel\",\n  type = \"danger\" // \"danger\", \"warning\", \"info\"\n}) {\n  if (!isOpen) return null;\n\n  const handleConfirm = () => {\n    onConfirm();\n    onClose();\n  };\n\n  const handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  const getTypeStyles = () => {\n    switch (type) {\n      case \"danger\":\n        return {\n          icon: \"ðŸ—‘ï¸\",\n          confirmButton: \"bg-red-600 hover:bg-red-700 focus:ring-red-500\",\n          iconBg: \"bg-red-100 dark:bg-red-900/20\",\n          iconColor: \"text-red-600 dark:text-red-400\"\n        };\n      case \"warning\":\n        return {\n          icon: \"âš ï¸\",\n          confirmButton: \"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500\",\n          iconBg: \"bg-yellow-100 dark:bg-yellow-900/20\",\n          iconColor: \"text-yellow-600 dark:text-yellow-400\"\n        };\n      case \"info\":\n        return {\n          icon: \"â„¹ï¸\",\n          confirmButton: \"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500\",\n          iconBg: \"bg-blue-100 dark:bg-blue-900/20\",\n          iconColor: \"text-blue-600 dark:text-blue-400\"\n        };\n      default:\n        return {\n          icon: \"â“\",\n          confirmButton: \"bg-gray-600 hover:bg-gray-700 focus:ring-gray-500\",\n          iconBg: \"bg-gray-100 dark:bg-gray-900/20\",\n          iconColor: \"text-gray-600 dark:text-gray-400\"\n        };\n    }\n  };\n\n  const styles = getTypeStyles();\n\n  return (\n    <div \n      className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 confirmation-dialog-backdrop\"\n      onClick={handleBackdropClick}\n    >\n      <div className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full transform transition-all duration-200 scale-100 confirmation-dialog-content confirmation-dialog\">\n        {/* Header */}\n        <div className=\"flex items-center gap-4 p-6 border-b border-gray-200 dark:border-gray-700\">\n          <div className={`p-3 rounded-full ${styles.iconBg}`}>\n            <span className=\"text-2xl\">{styles.icon}</span>\n          </div>\n          <div className=\"flex-1\">\n            <h3 className=\"text-xl font-semibold text-gray-900 dark:text-gray-100\">\n              {title}\n            </h3>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n          >\n            <X size={20} />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6\">\n          <p className=\"text-gray-600 dark:text-gray-300 leading-relaxed\">\n            {message}\n          </p>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex gap-3 p-6 pt-0\">\n          <button\n            onClick={onClose}\n            className=\"flex-1\"\n          >\n            {cancelText}\n          </button>\n          <button\n            onClick={handleConfirm}\n            className=\"flex-1\"\n          >\n            {confirmText}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction App() {\n  const [chats, setChats] = useState([]);\n  const [currentChatId, setCurrentChatId] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [question, setQuestion] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showPdfModal, setShowPdfModal] = useState(false);\n  const [pdfUrlToPreview, setPdfUrlToPreview] = useState(null);\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  const [showTyping, setShowTyping] = useState(false);\n  const typingTimeoutRef = useRef(null);\n\n  const messagesEndRef = useRef(null);\n  const mainFileInputRef = useRef(null);\n\n  const [favoritedChats, setFavoritedChats] = useState(new Set());\n  const [attachedPDFs, setAttachedPDFs] = useState([]);\n  const [userLanguage, setUserLanguage] = useState('en');\n\n  // Add a new state for the chat being renamed\n  const [renamingChatId, setRenamingChatId] = useState(null);\n  const [newChatName, setNewChatName] = useState('');\n\n  // Add state for copy button confirmation\n  const [copiedMessageIndex, setCopiedMessageIndex] = useState(null);\n\n  // Add state for message editing\n  const [editingMessageIndex, setEditingMessageIndex] = useState(null);\n  const [editingMessageText, setEditingMessageText] = useState('');\n\n  // Add state for confirmation dialogs\n  const [showDeleteChatDialog, setShowDeleteChatDialog] = useState(false);\n  const [showDeleteAllChatsDialog, setShowDeleteAllChatsDialog] = useState(false);\n  const [chatToDelete, setChatToDelete] = useState(null);\n\n  // Add state to track if this is a new chat for welcome message\n  const [isNewChat, setIsNewChat] = useState(false);\n\n  const [isSidebarOpen, setIsSidebarOpen] = useState(() => {\n    const saved = localStorage.getItem('sidebarOpen');\n    return saved !== null ? JSON.parse(saved) : true;\n  });\n\n  const onDocumentLoadSuccess = ({ numPages }) => {\n    setNumPages(numPages);\n    setPageNumber(1); // Reset to first page when new PDF loads\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  const handleFileUpload = async (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // If we have a current chat, append to it; otherwise create new chat\n    await uploadFilesToChat(files, currentChatId);\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    const files = Array.from(e.dataTransfer.files).filter(file => file.type === 'application/pdf');\n    if (files.length > 0) {\n      const event = { target: { files } };\n      handleFileUpload(event);\n    }\n  };\n\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    if (!question.trim() || !currentChatId) return;\n\n    // Detect user's language\n    try {\n      const response = await fetch(`${API_BASE_URL}/detect-language/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ text: question }),\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setUserLanguage(data.language);\n      }\n    } catch (e) {\n      console.error('Language detection failed:', e);\n    }\n\n    const userMessage = { role: 'user', content: question };\n    setMessages((prevMessages) => [...prevMessages, userMessage]);\n    setQuestion('');\n    setIsNewChat(false); // Set to false once user sends first message\n    setLoading(true);\n    setShowTyping(false);\n    if (typingTimeoutRef.current) clearTimeout(typingTimeoutRef.current);\n    typingTimeoutRef.current = setTimeout(() => setShowTyping(true), 300);\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/${currentChatId}/message/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ \n          text: userMessage.content,\n          sender: 'user',\n          language: userLanguage\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n      }\n\n      const data = await response.json();\n      setMessages((prevMessages) => [...prevMessages, { role: 'assistant', content: data.response }]);\n      fetchChats();\n      toast.success(\"Answer generated! ðŸ’¬\");\n\n    } catch (e) {\n      setMessages((prevMessages) => prevMessages.slice(0, prevMessages.length - 1)); // Remove user message if failed\n      toast.error(`Failed to generate answer: ${e.message} âš ï¸`);\n    } finally {\n      setLoading(false);\n      setShowTyping(false); // Hide typing animation when response is complete\n      if (typingTimeoutRef.current) {\n        clearTimeout(typingTimeoutRef.current);\n        typingTimeoutRef.current = null;\n      }\n    }\n  };\n\n  const handleDeleteChat = async (chatId) => {\n    // Find the chat to get its name for the dialog\n    const chat = chats.find(c => c.id === chatId);\n    setChatToDelete(chat);\n    setShowDeleteChatDialog(true);\n  };\n\n  const confirmDeleteChat = async () => {\n    if (!chatToDelete) return;\n    \n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/${chatToDelete.id}/`, {\n        method: 'DELETE',\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n      }\n\n      if (currentChatId === chatToDelete.id) {\n        setCurrentChatId(null);\n        setMessages([]);\n        setAttachedPDFs([]);\n      }\n      setChats(prevChats => prevChats.filter(chat => chat.id !== chatToDelete.id));\n      toast.success(\"Chat deleted successfully! ðŸ—‘ï¸\");\n    } catch (e) {\n      toast.error(`Failed to delete chat: ${e.message} âš ï¸`);\n    } finally {\n      setLoading(false);\n      setChatToDelete(null);\n    }\n  };\n\n  const handleDeleteAllChats = async () => {\n    setShowDeleteAllChatsDialog(true);\n  };\n\n  const handleRenameChat = async (chatId, newName) => {\n    if (!newName.trim()) {\n      setRenamingChatId(null);\n      setNewChatName('');\n      return;\n    }\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/${chatId}/rename/`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ name: newName.trim() }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n      }\n\n      // Update the chat name in the local state\n      setChats(prevChats => \n        prevChats.map(chat => \n          chat.id === chatId \n            ? { ...chat, name: newName.trim() }\n            : chat\n        )\n      );\n\n      toast.success(\"Chat renamed successfully! âœï¸\");\n    } catch (error) {\n      toast.error(`Failed to rename chat: ${error.message} âš ï¸`);\n      // Reset to original name on error\n      const originalChat = chats.find(c => c.id === chatId);\n      if (originalChat) {\n        setNewChatName(originalChat.name);\n      }\n    } finally {\n      setRenamingChatId(null);\n      setNewChatName('');\n    }\n  };\n\n  const confirmDeleteAllChats = async () => {\n    setLoading(true);\n    try {\n      console.log(\"Sending delete all chats request...\");\n      const response = await fetch(`${API_BASE_URL}/chats/all/`, {\n        method: 'DELETE',\n      });\n\n      console.log(\"Delete all chats response status:\", response.status);\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        console.error(\"Delete all chats error:\", errorData);\n        throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n      }\n\n      const result = await response.json();\n      console.log(\"Delete all chats success:\", result);\n\n      setCurrentChatId(null);\n      setChats([]);\n      setMessages([]);\n      setAttachedPDFs([]);\n      toast.success(\"All chats deleted! ðŸ—‘ï¸\");\n      \n      // Refresh the chat list to ensure UI is updated\n      await fetchChats();\n    } catch (e) {\n      console.error(\"Delete all chats failed:\", e);\n      toast.error(`Failed to delete all chats: ${e.message} âš ï¸`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePdfPreview = (pdfPath) => {\n    if (!pdfPath) {\n      toast.error(\"PDF path is not available.\");\n      return;\n    }\n    \n    try {\n      // Extract the filename from the full path\n      const filename = pdfPath.split('/').pop() || pdfPath.split('\\\\').pop();\n      if (!filename) {\n        toast.error(\"Invalid PDF path.\");\n        return;\n      }\n      \n      const pdfUrl = `${API_BASE_URL}/pdf/${filename}`;\n      setPdfUrlToPreview(pdfUrl);\n      setShowPdfModal(true);\n    } catch (error) {\n      console.error(\"Error constructing PDF URL:\", error);\n      toast.error(\"Failed to preview PDF.\");\n    }\n  };\n\n  const toggleDarkMode = () => {\n    setIsDarkMode(!isDarkMode);\n    document.documentElement.classList.toggle('dark');\n  };\n\n  const toggleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n    localStorage.setItem('sidebarOpen', JSON.stringify(!isSidebarOpen));\n  };\n\n  const handleRemoveFile = async (filePathToRemove) => {\n    if (!currentChatId) return;\n\n    const originalFiles = [...attachedPDFs];\n    setAttachedPDFs(prev => prev.filter(file => file.path !== filePathToRemove));\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/${currentChatId}/pdfs`, {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ pdf_path: filePathToRemove }),\n      });\n\n      if (!response.ok) {\n        toast.error(\"Failed to remove file. Reverting changes.\");\n        setAttachedPDFs(originalFiles);\n      } else {\n        toast.success(\"File removed successfully.\");\n      }\n    } catch (error) {\n      toast.error(\"An error occurred. Reverting changes.\");\n      setAttachedPDFs(originalFiles);\n    }\n  };\n\n  const handleCopy = (text, messageIndex) => {\n    navigator.clipboard.writeText(text).then(() => {\n      // Set the confirmation state for this specific message\n      setCopiedMessageIndex(messageIndex);\n      \n      // Reset the confirmation state after 2.5 seconds\n      setTimeout(() => {\n        setCopiedMessageIndex(null);\n      }, 2500);\n      \n      toast.success(\"Copied to clipboard!\");\n    }, (err) => {\n      toast.error(\"Failed to copy text.\");\n      console.error('Could not copy text: ', err);\n    });\n  };\n\n  const handleEditMessage = (messageIndex, currentText) => {\n    setEditingMessageIndex(messageIndex);\n    setEditingMessageText(currentText);\n  };\n\n  const handleSaveEdit = async (messageIndex) => {\n    if (!editingMessageText.trim()) {\n      toast.error(\"Message cannot be empty.\");\n      return;\n    }\n\n    try {\n      // Update the message in local state\n      setMessages(prevMessages => \n        prevMessages.map((msg, index) => \n          index === messageIndex \n            ? { ...msg, content: editingMessageText.trim() }\n            : msg\n        )\n      );\n\n      // TODO: Send update to backend if needed\n      // For now, we'll just update the local state\n      \n      toast.success(\"Message updated successfully! âœï¸\");\n    } catch (error) {\n      toast.error(\"Failed to update message.\");\n      console.error(\"Error updating message:\", error);\n    } finally {\n      setEditingMessageIndex(null);\n      setEditingMessageText('');\n    }\n  };\n\n  const handleCancelEdit = () => {\n    setEditingMessageIndex(null);\n    setEditingMessageText('');\n  };\n\n  const handleKeyDown = (event) => {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      handleSendMessage(event);\n    }\n  };\n\n  // Keyboard shortcut to toggle sidebar (Ctrl/Cmd + B)\n  useEffect(() => {\n    const handleGlobalKeyDown = (event) => {\n      if ((event.ctrlKey || event.metaKey) && event.key === 'b') {\n        event.preventDefault();\n        toggleSidebar();\n      }\n    };\n\n    document.addEventListener('keydown', handleGlobalKeyDown);\n    return () => document.removeEventListener('keydown', handleGlobalKeyDown);\n  }, [isSidebarOpen, toggleSidebar]);\n\n  const toggleFavorite = (chatId) => {\n    setFavoritedChats(prev => {\n      const newFavorited = new Set(prev);\n      if (newFavorited.has(chatId)) {\n        newFavorited.delete(chatId);\n      } else {\n        newFavorited.add(chatId);\n      }\n      return newFavorited;\n    });\n  };\n\n  const handleSelectChat = (chatId) => {\n    if (chatId === currentChatId) return;\n    setCurrentChatId(chatId);\n    setIsNewChat(false); // Set to false for existing chat\n    fetchChatMessages(chatId);\n  };\n\n  const uploadFilesToChat = async (files, targetChatId = null) => {\n    let finalChatId = targetChatId;\n\n    // If no targetChatId is provided, and there's no active chat, create a new one.\n    if (!finalChatId && !currentChatId) {\n      const newChatData = await createNewChat();\n      if (newChatData) {\n        finalChatId = newChatData.id;\n        setCurrentChatId(newChatData.id); // Set the new chat as active\n        setIsNewChat(true); // Set to true for new chat\n      } else {\n        toast.error(\"Could not create a new chat session.\");\n        return;\n      }\n    } else if (!finalChatId && currentChatId) {\n      // If there is an active chat, use its ID.\n      finalChatId = currentChatId;\n    }\n\n    if (files.length === 0) {\n      // If no files are being uploaded, we just wanted to create a new chat.\n      if (!targetChatId) fetchChats();\n      return;\n    }\n\n    setLoading(true);\n    toast.info(`Uploading and processing ${files.length} PDF(s)...`);\n\n    const formData = new FormData();\n    files.forEach(file => {\n      formData.append('file', file);\n    });\n\n    // Important: FormData sends chat_id as a separate part.\n    if (finalChatId) {\n      formData.append('chat_id', finalChatId);\n    }\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/upload-pdf/`, {\n        method: 'POST',\n        body: formData, // No 'Content-Type' header needed for FormData\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`HTTP error! status: ${response.status} - ${errorData.detail || response.statusText}`);\n      }\n\n      const result = await response.json();\n      \n      // After upload, fetch the latest state of the chat.\n      await fetchChatMessages(finalChatId);\n      await fetchChats(); // Update the list of chats on the sidebar\n\n      toast.success(`${files.length} PDF${files.length > 1 ? 's' : ''} processed successfully! âœ…`);\n    } catch (e) {\n      toast.error(`PDF upload failed: ${e.message} âŒ`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchChats();\n  }, []);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  useEffect(() => {\n    // Check for saved theme preference\n    const savedTheme = localStorage.getItem('theme');\n    if (savedTheme === 'dark') {\n      setIsDarkMode(true);\n      document.documentElement.classList.add('dark');\n    }\n  }, []);\n\n  useEffect(() => {\n    return () => {\n      if (typingTimeoutRef.current) clearTimeout(typingTimeoutRef.current);\n    };\n  }, []);\n\n  const fetchChats = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data && Array.isArray(data.chats)) {\n        setChats(data.chats);\n      } else {\n        setChats([]);\n        console.warn('Received invalid chat data format:', data);\n      }\n    } catch (e) {\n      setChats([]); // Clear chats on error\n    }\n  };\n\n  const fetchChatMessages = async (chatId) => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/chats/${chatId}/`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data && Array.isArray(data.messages)) {\n        setMessages(data.messages);\n        // Load associated PDFs\n        if (data.pdf_paths) {\n          setAttachedPDFs(data.pdf_paths.map((path, index) => ({\n            path: path,\n            name: data.pdf_names?.[index] || path.split('/').pop(),\n            language: data.language || 'en'\n          })));\n        }\n      } else {\n        setMessages([]);\n        setAttachedPDFs([]);\n        console.warn('Received invalid chat message data format:', data);\n      }\n    } catch (e) {\n      setMessages([]); // Clear messages on error\n      setAttachedPDFs([]); // Clear PDFs on error\n      toast.error(`Failed to load chat: ${e.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const createNewChat = async () => {\n    try {\n      // Assuming you have an endpoint to create a new, empty chat\n      const response = await fetch(`${API_BASE_URL}/chats`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({}), // No initial data needed\n      });\n      if (!response.ok) throw new Error('Failed to create chat');\n      const newChat = await response.json();\n      setChats(prev => [newChat, ...prev]);\n      setCurrentChatId(newChat.id);\n      setMessages([]);\n      setAttachedPDFs([]);\n      setIsNewChat(true); // Set to true for new chat\n      return newChat;\n    } catch (error) {\n      toast.error(\"Failed to create a new chat.\");\n      return null;\n    }\n  };\n\n  return (\n    <div className={`flex h-screen bg-background-light dark:bg-background-dark text-text-primary-light dark:text-text-primary-dark transition-colors duration-200 ${!isSidebarOpen ? 'sidebar-closed' : ''}`}>\n      <Tooltip id=\"delete-all-tooltip\" place=\"bottom\" delayShow={300} delayHide={100} />\n      <Tooltip id=\"new-chat-tooltip\" place=\"bottom\" delayShow={300} delayHide={100} />\n      <Tooltip id=\"rename-tooltip\" place=\"bottom\" delayShow={300} delayHide={100} />\n      <Tooltip id=\"favorite-tooltip\" place=\"bottom\" delayShow={300} delayHide={100} />\n      <Tooltip id=\"delete-tooltip\" place=\"bottom\" delayShow={300} delayHide={100} />\n      <Tooltip id=\"sidebar-tooltip\" place=\"bottom\" delayShow={300} delayHide={100} />\n      <Tooltip id=\"upload-tooltip\" place=\"bottom\" delayShow={300} delayHide={100} />\n      <Tooltip id=\"remove-file-tooltip\" place=\"top\" delayShow={300} delayHide={100} />\n      <Tooltip id=\"copy-tooltip\" place=\"top\" delayShow={300} delayHide={100} />\n      <ToastContainer\n        position=\"bottom-right\"\n        autoClose={4000}\n        hideProgressBar={false}\n        newestOnTop\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n        theme={isDarkMode ? \"dark\" : \"light\"}\n        limit={4}\n        transition={Slide}\n        icon={({ type }) => getToastIcon(type)}\n        toastClassName=\"!font-sans\"\n        bodyClassName=\"!font-sans\"\n        progressClassName=\"!bg-gradient-to-r !from-purple-500 !to-blue-500\"\n      />\n\n      <div className=\"flex flex-col flex-1 h-full bg-gray-100 dark:bg-gray-900 transition-all duration-300\">\n        {/* Top Bar */}\n        <div className=\"flex items-center justify-between p-2 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800\">\n          <button \n            onClick={toggleSidebar} \n            className=\"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700\"\n            data-tooltip-id=\"sidebar-tooltip\"\n            data-tooltip-content={isSidebarOpen ? \"Collapse Sidebar\" : \"Expand Sidebar\"}\n          >\n            <Menu size={20} />\n          </button>\n          <h3 className=\"text-2xl font-extrabold tracking-wide gradient-text\">Inquiero</h3>\n          <button onClick={toggleDarkMode} className=\"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700\">\n            {isDarkMode ? <Sun size={20} /> : <Moon size={20} />}\n          </button>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"flex-1 flex overflow-hidden\">\n          {/* Sidebar */}\n          <div className={`\n            ${isSidebarOpen ? 'w-80' : 'w-0'}\n            bg-white dark:bg-gray-800/50 border-r border-gray-200 dark:border-gray-700\n            transition-all duration-300 overflow-hidden flex flex-col\n          `}>\n            {isSidebarOpen && (\n              <div className=\"p-4 flex-1 flex flex-col overflow-hidden\">\n                <div className=\"flex justify-between items-center mb-4\">\n                  <h2 className=\"text-xl font-bold text-gray-800 dark:text-gray-100\">Chats</h2>\n                  <div className=\"flex gap-1\">\n                    <button\n                      onClick={handleDeleteAllChats}\n                      className=\"btn-icon btn-icon-danger\"\n                      data-tooltip-id=\"delete-all-tooltip\"\n                      data-tooltip-content=\"Delete All Chats\"\n                    >\n                      <Trash2 size={16} />\n                    </button>\n                    <button\n                      onClick={() => uploadFilesToChat([])}\n                      className=\"btn-icon btn-icon-primary\"\n                      data-tooltip-id=\"new-chat-tooltip\"\n                      data-tooltip-content=\"New Chat\"\n                    >\n                      <Plus size={16} />\n                    </button>\n                  </div>\n                </div>\n                <div className=\"flex-1 overflow-y-auto pr-1 -mr-1 space-y-2\">\n                  {favoritedChats.size > 0 && (\n                    <div className=\"mb-4\">\n                      <h3 className=\"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2\">Favorites</h3>\n                      {chats\n                        .filter(chat => favoritedChats.has(chat.id))\n                        .map(chat => (\n                          <ChatItem\n                            key={chat.id}\n                            chat={chat}\n                            isSelected={currentChatId === chat.id}\n                            isFavorited={true}\n                            onSelect={handleSelectChat}\n                            onRename={handleRenameChat}\n                            onFavorite={toggleFavorite}\n                            onDelete={handleDeleteChat}\n                            renamingChatId={renamingChatId}\n                            newChatName={newChatName}\n                            setNewChatName={setNewChatName}\n                            setRenamingChatId={setRenamingChatId}\n                          />\n                        ))}\n                    </div>\n                  )}\n\n                  <h3 className=\"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2\">Recent</h3>\n                  {chats\n                    .filter(chat => !favoritedChats.has(chat.id))\n                    .map(chat => (\n                      <ChatItem\n                        key={chat.id}\n                        chat={chat}\n                        isSelected={currentChatId === chat.id}\n                        isFavorited={false}\n                        onSelect={handleSelectChat}\n                        onRename={handleRenameChat}\n                        onFavorite={toggleFavorite}\n                        onDelete={handleDeleteChat}\n                        renamingChatId={renamingChatId}\n                        newChatName={newChatName}\n                        setNewChatName={setNewChatName}\n                        setRenamingChatId={setRenamingChatId}\n                      />\n                    ))}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Main Chat Area */}\n          <div className=\"flex flex-col flex-1 h-full overflow-hidden\">\n            {currentChatId ? (\n              <>\n                {/* Chat Header */}\n                <div className=\"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800/50 flex-shrink-0\">\n                  <h2 className=\"text-xl font-semibold text-gray-800 dark:text-gray-100 truncate\">\n                    {chats.find(c => c.id === currentChatId)?.name || 'Chat'}\n                  </h2>\n                  <div className=\"flex items-center gap-2\">\n                    <button\n                      onClick={() => mainFileInputRef.current.click()}\n                      className=\"flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 dark:bg-purple-500 dark:hover:bg-purple-600 transition-colors\"\n                      data-tooltip-id=\"upload-tooltip\"\n                      data-tooltip-content=\"Upload more files to this chat\"\n                    >\n                      <FileUp size={16} />\n                      <span>Upload More</span>\n                    </button>\n                  </div>\n                </div>\n\n                {/* Attached Files Bar */}\n                {attachedPDFs.length > 0 && (\n                  <div className=\"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex-shrink-0\">\n                    <div className=\"flex items-center gap-2 flex-wrap\">\n                      <span className=\"text-sm font-medium text-gray-600 dark:text-gray-300 mr-2\">Attached Files ({attachedPDFs.length})</span>\n                      {attachedPDFs.map((pdf, index) => (\n                        <div key={index} className=\"group relative flex items-center bg-blue-100/50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-full text-xs\">\n                          <button\n                              onClick={() => handlePdfPreview(pdf.path)}\n                              className=\"flex items-center gap-1.5 pl-3 pr-2 py-1 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-l-full\"\n                          >\n                            <FileText size={12} />\n                            <span className=\"truncate max-w-xs\">{pdf.name}</span>\n                          </button>\n                          <button\n                            onClick={() => handleRemoveFile(pdf.path)}\n                            className=\"p-1 rounded-full hover:bg-red-200 dark:hover:bg-red-900/50 text-red-500 opacity-50 group-hover:opacity-100 transition-opacity\"\n                            data-tooltip-id=\"remove-file-tooltip\"\n                            data-tooltip-content={`Remove ${pdf.name}`}\n                          >\n                            <X size={12} />\n                          </button>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Messages Area */}\n                <div className=\"flex-1 overflow-y-auto p-4 md:p-6 space-y-6\">\n                  {/* Welcome message for new chats */}\n                  {isNewChat && messages.length === 0 && (\n                    <div className=\"group\">\n                      <div className=\"chat-bubble chat-bubble-ai\">\n                        <div className=\"chat-bubble-content\">\n                          <p className=\"text-lg font-semibold mb-2\">ðŸ‘‹ Welcome to Inquiero!</p>\n                          <p className=\"mb-3\">I'm here to help you analyze and understand your PDF documents. You can ask me questions about:</p>\n                          <ul className=\"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-300 mb-3\">\n                            <li>Specific content within your documents</li>\n                            <li>Summaries and key points</li>\n                            <li>Data analysis and insights</li>\n                            <li>Comparisons between different sections</li>\n                            <li>Definitions and explanations</li>\n                          </ul>\n                          <p className=\"text-sm text-gray-600 dark:text-gray-300\">Just type your question below and I'll help you find the information you need!</p>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                  \n                  {messages.map((msg, index) => (\n                    <div key={index} className=\"group\">\n                      <div className={`chat-bubble ${msg.role === 'user' ? 'chat-bubble-user' : 'chat-bubble-ai'}`}>\n                        <div className=\"chat-bubble-content\">\n                          {typeof msg.content === 'string' ? (\n                            msg.content.split('\\\\n').map((line, i) => (\n                              <p key={i}>{line}</p>\n                            ))\n                          ) : (\n                            <p>{JSON.stringify(msg.content)}</p>\n                          )}\n                        </div>\n                      </div>\n                      {/* Copy button positioned below the chat bubble */}\n                      <div className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'} mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200`}>\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleCopy(msg.content, index);\n                          }}\n                          className={`px-3 py-1.5 rounded-lg transition-all duration-200 text-sm font-medium ${\n                            copiedMessageIndex === index\n                              ? 'text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-400'\n                              : 'text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-700 dark:hover:text-gray-200'\n                          }`}\n                          data-tooltip-id=\"copy-tooltip\"\n                          data-tooltip-content={copiedMessageIndex === index ? \"Copied!\" : \"Copy message\"}\n                        >\n                          <div className=\"flex items-center gap-1.5\">\n                            {copiedMessageIndex === index ? (\n                              <>\n                                <Check size={14} />\n                                <span>Copied!</span>\n                              </>\n                            ) : (\n                              <Copy size={14} />\n                            )}\n                          </div>\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                  {showTyping && <TypingBubble />}\n                  <div ref={messagesEndRef} />\n                </div>\n\n                {/* Message Input */}\n                <div className=\"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800/50\">\n                  <form onSubmit={handleSendMessage} className=\"relative\">\n                    <textarea\n                      value={question}\n                      onChange={(e) => setQuestion(e.target.value)}\n                      onKeyDown={handleKeyDown}\n                      placeholder=\"Ask a question about your document...\"\n                      className=\"w-full pl-4 pr-12 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none\"\n                      rows=\"1\"\n                      style={{ minHeight: '52px', maxHeight: '200px' }}\n                    />\n                    <button\n                      type=\"submit\"\n                      disabled={loading}\n                      className=\"absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-full bg-purple-600 text-white hover:bg-purple-700 disabled:bg-purple-300 dark:disabled:bg-purple-800\"\n                    >\n                      <Send size={20} />\n                    </button>\n                  </form>\n                </div>\n              </>\n            ) : (\n              // Welcome Screen / Initial State\n              <div className=\"flex flex-col items-center justify-center h-full text-center text-gray-500 dark:text-gray-400 p-8\">\n                <div\n                  className=\"flex flex-col items-center justify-center w-full max-w-lg min-h-[400px] border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-2xl bg-white dark:bg-gray-800/20 p-8 transition-colors duration-200 hover:border-purple-400 dark:hover:border-purple-500 hover:bg-gray-50 dark:hover:bg-gray-800/40 cursor-pointer\"\n                  onDragOver={handleDragOver}\n                  onDrop={handleDrop}\n                  onClick={() => mainFileInputRef.current.click()}\n                >\n                  <FileUp size={50} className=\"mb-4 text-purple-400 dark:text-purple-500\" />\n                  <h2 className=\"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2\">Drop your PDF here</h2>\n                  <p className=\"text-gray-600 dark:text-gray-300\">or click to browse</p>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* PDF Preview Modal */}\n      {showPdfModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-sm\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-gray-700\">\n            <div className=\"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700\">\n              <h3 className=\"text-xl font-semibold text-gray-900 dark:text-gray-100\">PDF Preview</h3>\n              <button\n                onClick={() => setShowPdfModal(false)}\n                className=\"p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              >\n                <X size={24} />\n              </button>\n            </div>\n            <div className=\"p-6\">\n              <Document\n                file={pdfUrlToPreview}\n                onLoadSuccess={onDocumentLoadSuccess}\n                className=\"flex justify-center\"\n              >\n                <Page\n                  pageNumber={pageNumber}\n                  renderTextLayer={false}\n                  renderAnnotationLayer={false}\n                  className=\"shadow-lg rounded-lg\"\n                />\n              </Document>\n            </div>\n            <div className=\"flex justify-center items-center gap-4 p-6 border-t border-gray-200 dark:border-gray-700\">\n              <button\n                onClick={() => setPageNumber(Math.max(1, pageNumber - 1))}\n                disabled={pageNumber <= 1}\n                className=\"p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <ChevronLeft size={20} />\n              </button>\n              <span className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg\">\n                Page {pageNumber} of {numPages}\n              </span>\n              <button\n                onClick={() => setPageNumber(Math.min(numPages, pageNumber + 1))}\n                disabled={pageNumber >= numPages}\n                className=\"p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <ChevronRight size={20} />\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Confirmation Dialogs */}\n      <ConfirmationDialog\n        isOpen={showDeleteChatDialog}\n        onClose={() => {\n          setShowDeleteChatDialog(false);\n          setChatToDelete(null);\n        }}\n        onConfirm={confirmDeleteChat}\n        title=\"Delete Chat\"\n        message={`Are you sure you want to delete \"${chatToDelete?.name || 'this chat'}\"? This action cannot be undone.`}\n        confirmText=\"Delete Chat\"\n        cancelText=\"Cancel\"\n        type=\"danger\"\n      />\n\n      <ConfirmationDialog\n        isOpen={showDeleteAllChatsDialog}\n        onClose={() => setShowDeleteAllChatsDialog(false)}\n        onConfirm={confirmDeleteAllChats}\n        title=\"Delete All Chats\"\n        message=\"Are you sure you want to delete ALL chats? This action cannot be undone and will permanently remove all your conversations and uploaded files.\"\n        confirmText=\"Delete All\"\n        cancelText=\"Cancel\"\n        type=\"danger\"\n      />\n\n      <input\n        type=\"file\"\n        ref={mainFileInputRef}\n        accept=\".pdf\"\n        multiple\n        onChange={handleFileUpload}\n        className=\"hidden\"\n      />\n    </div>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}